(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-center-myCode"],{"11d9":function(t,e,i){"use strict";var a=i("e5f1"),n=i.n(a);n.a},"1e00":function(t,e,i){"use strict";i("c975"),i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"u-swiper",props:{list:{type:Array,default:function(){return[]}},title:{type:Boolean,default:!1},indicator:{type:Object,default:function(){return{}}},borderRadius:{type:[Number,String],default:8},interval:{type:[String,Number],default:3e3},mode:{type:String,default:"round"},height:{type:[Number,String],default:250},indicatorPos:{type:String,default:"bottomCenter"},effect3d:{type:Boolean,default:!1},effect3dPreviousMargin:{type:[Number,String],default:50},autoplay:{type:Boolean,default:!0},duration:{type:[Number,String],default:500},circular:{type:Boolean,default:!0},imgMode:{type:String,default:"aspectFill"},name:{type:String,default:"image"},bgColor:{type:String,default:"#f3f4f6"}},watch:{list:function(t,e){t.length!==e.length&&(this.current=0)}},data:function(){return{current:0}},computed:{justifyContent:function(){return"topLeft"==this.indicatorPos||"bottomLeft"==this.indicatorPos?"flex-start":"topCenter"==this.indicatorPos||"bottomCenter"==this.indicatorPos?"center":"topRight"==this.indicatorPos||"bottomRight"==this.indicatorPos?"flex-end":void 0},titlePaddingBottom:function(){var t=0;return"none"==this.mode?"12rpx":(t=["bottomLeft","bottomCenter","bottomRight"].indexOf(this.indicatorPos)>=0&&"number"==this.mode?"60rpx":["bottomLeft","bottomCenter","bottomRight"].indexOf(this.indicatorPos)>=0&&"number"!=this.mode?"40rpx":"12rpx",t)}},methods:{listClick:function(t){this.$emit("click",t)},change:function(t){var e=t.detail.current;this.current=e,this.$emit("change",e)},animationfinish:function(t){}}};e.default=a},5100:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"u-swiper-wrap",style:{borderRadius:t.borderRadius+"rpx"}},[i("v-uni-swiper",{style:{height:t.height+"rpx"},attrs:{interval:t.interval,circular:t.circular,duration:t.duration,autoplay:t.autoplay,"previous-margin":t.effect3d?t.effect3dPreviousMargin+"rpx":"0","next-margin":t.effect3d?t.effect3dPreviousMargin+"rpx":"0"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)},animationfinish:function(e){arguments[0]=e=t.$handleEvent(e),t.animationfinish.apply(void 0,arguments)}}},t._l(t.list,(function(e,a){return i("v-uni-swiper-item",{key:a,staticClass:"u-swiper-item"},[i("v-uni-view",{staticClass:"u-list-image-wrap",class:[t.current!=a?"u-list-scale":""],style:{borderRadius:t.borderRadius+"rpx",transform:t.effect3d&&t.current!=a?"scaleY(0.9)":"scaleY(1)",margin:t.effect3d&&t.current!=a?"0 20rpx":0,backgroundColor:t.bgColor},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.listClick(a)}}},[i("v-uni-image",{staticClass:"u-swiper-image",attrs:{src:e[t.name],mode:t.imgMode}}),t.title?i("v-uni-view",{staticClass:"u-swiper-title u-line-1",style:{"padding-bottom":t.titlePaddingBottom}},[t._v(t._s(e.title))]):t._e()],1)],1)})),1),i("v-uni-view",{staticClass:"u-swiper-indicator",style:{top:"topLeft"==t.indicatorPos||"topCenter"==t.indicatorPos||"topRight"==t.indicatorPos?"12rpx":"auto",bottom:"bottomLeft"==t.indicatorPos||"bottomCenter"==t.indicatorPos||"bottomRight"==t.indicatorPos?"12rpx":"auto",justifyContent:t.justifyContent,padding:"0 "+(t.effect3d?"74rpx":"24rpx")}},["rect"==t.mode?t._l(t.list,(function(e,a){return i("v-uni-view",{key:a,staticClass:"u-indicator-item-rect",class:{"u-indicator-item-rect-active":a==t.current}})})):t._e(),"dot"==t.mode?t._l(t.list,(function(e,a){return i("v-uni-view",{key:a,staticClass:"u-indicator-item-dot",class:{"u-indicator-item-dot-active":a==t.current}})})):t._e(),"round"==t.mode?t._l(t.list,(function(e,a){return i("v-uni-view",{key:a,staticClass:"u-indicator-item-round",class:{"u-indicator-item-round-active":a==t.current}})})):t._e(),"number"==t.mode?[i("v-uni-view",{staticClass:"u-indicator-item-number"},[t._v(t._s(t.current+1)+"/"+t._s(t.list.length))])]:t._e()],2)],1)},r=[]},"52df":function(t,e,i){"use strict";i.r(e);var a=i("5100"),n=i("b9b0");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("11d9");var o,s=i("f0c5"),u=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"04def580",null,!1,a["a"],o);e["default"]=u.exports},"649b":function(t,e,i){var a=i("9b01");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("3d71e8fc",a,!0,{sourceMap:!1,shadowMode:!1})},7673:function(t,e,i){"use strict";i.r(e);var a=i("de18"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"7ab8":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */\r\n/*文字颜色*/.u-swiper-wrap[data-v-04def580]{position:relative;overflow:hidden;-webkit-transform:translateY(0);transform:translateY(0)}.u-swiper-image[data-v-04def580]{width:100%;will-change:transform;height:100%;display:block;pointer-events:none}.u-swiper-indicator[data-v-04def580]{padding:0 %?24?%;position:absolute;display:-webkit-box;display:-webkit-flex;display:flex;width:100%;z-index:1}.u-indicator-item-rect[data-v-04def580]{width:%?26?%;height:%?8?%;margin:0 %?6?%;-webkit-transition:all .5s;transition:all .5s;background-color:rgba(0,0,0,.3)}.u-indicator-item-rect-active[data-v-04def580]{background-color:hsla(0,0%,100%,.8)}.u-indicator-item-dot[data-v-04def580]{width:%?14?%;height:%?14?%;margin:0 %?6?%;border-radius:%?20?%;-webkit-transition:all .5s;transition:all .5s;background-color:rgba(0,0,0,.3)}.u-indicator-item-dot-active[data-v-04def580]{background-color:hsla(0,0%,100%,.8)}.u-indicator-item-round[data-v-04def580]{width:%?14?%;height:%?14?%;margin:0 %?6?%;border-radius:%?20?%;-webkit-transition:all .5s;transition:all .5s;background-color:rgba(0,0,0,.3)}.u-indicator-item-round-active[data-v-04def580]{width:%?34?%;background-color:hsla(0,0%,100%,.8)}.u-indicator-item-number[data-v-04def580]{padding:%?6?% %?16?%;line-height:1;background-color:rgba(0,0,0,.3);border-radius:%?100?%;font-size:%?26?%;color:hsla(0,0%,100%,.8)}.u-list-scale[data-v-04def580]{-webkit-transform-origin:center center;transform-origin:center center}.u-list-image-wrap[data-v-04def580]{width:100%;height:100%;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-transition:all .5s;transition:all .5s;overflow:hidden;-webkit-box-sizing:content-box;box-sizing:initial;position:relative}.u-swiper-title[data-v-04def580]{position:absolute;background-color:rgba(0,0,0,.3);bottom:0;left:0;width:100%;font-size:%?28?%;padding:%?12?% %?24?%;color:hsla(0,0%,100%,.9)}.u-swiper-item[data-v-04def580]{display:-webkit-box;display:-webkit-flex;display:flex;overflow:hidden;-webkit-box-align:center;-webkit-align-items:center;align-items:center}',""]),t.exports=e},"9b01":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */\r\n/*文字颜色*/.page-body[data-v-70b6ee1e]{height:100%}.share-image-box[data-v-70b6ee1e]{position:absolute;top:0;width:100%;height:100%;z-index:999}.share-image-box .share-mask[data-v-70b6ee1e]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000;opacity:.85}.share-image-box .share-main[data-v-70b6ee1e]{position:absolute;top:0;left:0;width:100%;padding-top:%?100?%}.share-image-box .share-close[data-v-70b6ee1e]{position:absolute;top:%?40?%;right:10%;width:%?50?%;height:%?50?%;border:%?4?% solid #fff;border-radius:50%;text-align:center}.share-image-box .share-img[data-v-70b6ee1e]{width:%?580?%;height:%?1050?%;margin:0 auto;overflow:hidden}.share-image-box .share-img uni-image[data-v-70b6ee1e]{width:%?580?%;height:%?1050?%}.share-image-box .btn-box[data-v-70b6ee1e]{padding-top:%?30?%;margin:%?0?% auto;width:%?590?%}.share-image-box .btn-box .btn[data-v-70b6ee1e]{min-width:50%;padding:%?0?% %?10?%;border:%?2?% solid #fff;margin:%?0?% auto;border-radius:%?20?%;line-height:%?70?%;text-align:center;color:#fff}',""]),t.exports=e},b813:function(t,e,i){"use strict";var a=i("649b"),n=i.n(a);n.a},b9b0:function(t,e,i){"use strict";i.r(e);var a=i("1e00"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},cb29:function(t,e,i){var a=i("23e7"),n=i("81d5"),r=i("44d2");a({target:"Array",proto:!0},{fill:n}),r("fill")},cfe6a:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uSwiper:i("52df").default,uIcon:i("c688").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page-body",class:[t.app.setCStyle()]},[i("v-uni-view",{staticClass:"bg-base",staticStyle:{height:"100%"}},[i("v-uni-view",{staticClass:"p50"}),i("u-swiper",{attrs:{height:870,list:t.imgList,title:!1,effect3d:!0,"effect3d-previous-margin":80,autoplay:!1,imgMode:"widthFix"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeImg.apply(void 0,arguments)}}}),1==t.is_share?i("v-uni-view",{staticClass:"text-center mt80",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.canvasImage.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"primarybtn",staticStyle:{width:"100rpx",height:"100rpx","padding-top":"18rpx","border-radius":"50%",border:"1rpx solid #FFFFFF",margin:"0rpx auto"}},[i("u-icon",{attrs:{name:"photo",color:"#FFFFFF",size:"60"}})],1),i("v-uni-view",{staticClass:"f32 mt10 color-ff"},[t._v(t._s(t.app.langReplace("生成海报")))])],1):t._e()],1),1==t.shareShow?i("v-uni-view",{staticClass:"share-image-box"},[i("div",{staticClass:"share-mask",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shareShow=!1}}}),i("v-uni-view",{staticClass:"share-main"},[i("v-uni-view",{staticClass:"share-close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shareShow=!1}}},[i("u-icon",{attrs:{name:"close",color:"#FFFFFF",size:"32"}})],1),i("v-uni-view",{staticClass:"share-img"},[i("v-uni-image",{attrs:{src:t.shareimgurl,mode:"aspectFill"}}),i("v-uni-canvas",{directives:[{name:"show",rawName:"v-show",value:t.canvasShow,expression:"canvasShow"}],staticStyle:{width:"580px",height:"1050px"},attrs:{"canvas-id":"mycanvas"}})],1),i("v-uni-view",{staticClass:"btn-box flex"},[i("v-uni-view",{staticClass:"btn"},[t._v(t._s(t.app.langReplace("长按图片保存")))])],1)],1)],1):t._e()],1)},r=[]},de18:function(t,e,i){"use strict";var a=i("4ea4");i("cb29"),i("4160"),i("ac1f"),i("1276"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var n=a(i("1da1")),r={data:function(){return{imgList:[],is_share:!1,is_wxmp:0,img_url:"",baseUrl:this.config.baseUrl,current:0,shareShow:!1,canvasShow:!0,shareimgurl:"",shareimgurlList:{},shareInfo:{}}},onLoad:function(t){var e=this;this.app.isLogin(this);var i=this.app.langReplace("邀请好友");uni.setNavigationBarTitle({title:i}),this.getShareInfo();var a=uni.getStorageSync("setting"),n=a.share_bg.split(",");n.forEach((function(t,i){var a={};a.image=e.baseUrl+t,e.imgList.push(a)}))},onShow:function(){},computed:{},onReady:function(){},methods:{changeImg:function(t){this.current=t},getShareInfo:function(){var t=this,e=0;this.$u.post("member/api.users/shareInfo",{is_wxmp:e}).then((function(e){if(0==e.code)return!1;t.is_share=!0,t.shareInfo=e.data}))},canvasImage:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var i,a,n,r,o,s,u,c,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.shareShow=!0,"undefined"==typeof t.shareimgurlList[t.current]){e.next=4;break}return t.shareimgurl=t.shareimgurlList[t.current],e.abrupt("return",!1);case 4:return t.shareimgurl="",uni.showLoading({title:"加载中",mask:!0}),t.canvasShow=!0,i={},a=uni.createCanvasContext("mycanvas",t),t.app.circleImgTwo(a,"",0,0,580,1050,30),a.fillStyle="#FFFFFF",a.fill(),n=t.imgList[t.current].image,e.next=15,t.app.getImgInfo(n);case 15:return i=e.sent,a.drawImage(i.path,0,0,i.width,i.height,0,0,580,870),r=t.shareInfo.share_headimgurl?t.baseUrl+t.shareInfo.share_headimgurl:"/static/public/images/headimgurl.jpg",e.next=20,t.app.getImgInfo(r);case 20:return i=e.sent,t.app.circleImg(a,i.path,30,890,30),a.fillStyle="#333333",o=t.shareInfo.share_nick_name,s=105,u=928,a.font="30px Georgia",a.fillText(o,s,u),c=t.baseUrl+t.shareInfo.share_qrcode,e.next=31,t.app.getImgInfo(c);case 31:i=e.sent,a.drawImage(i.path,0,0,i.width,i.height,430,900,130,130),t.shareInfo.share_hb_text.length>0&&(a.font="20px Georgia",d=30,l=990,t.shareInfo.share_hb_text.forEach((function(t,e){a.fillText(t,d,l+30*e)}))),a.draw(!0,(function(){uni.canvasToTempFilePath({canvasId:"mycanvas",success:function(e){t.shareimgurl=e.tempFilePath,t.shareimgurlList[t.current]=e.tempFilePath,t.canvasShow=!1,uni.hideLoading()},fail:function(){uni.showToast({title:"名片加载失败",duration:2e3})}})}));case 35:case"end":return e.stop()}}),e)})))()},saveImage:function(){var t=this;uni.showActionSheet({itemList:["保存图片"],success:function(e){0==e.tapIndex&&uni.saveImageToPhotosAlbum({filePath:t.shareimgurl,success:function(){uni.showToast({title:"保存成功",duration:2e3})},fail:function(){uni.showToast({title:"保存失败",duration:2e3})}})},fail:function(t){console.log(t.errMsg)}})},getImg:function(){var t=this;this.$u.post("member/api.users/getShareImg",{isnew:1,is_wxmp:this.is_wxmp}).then((function(e){t.img_url=e.data.img})).catch((function(e){t.app.showModal(e.msg,-1)}))}}};e.default=r},e5f1:function(t,e,i){var a=i("7ab8");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("67e0558f",a,!0,{sourceMap:!1,shadowMode:!1})},f070:function(t,e,i){"use strict";i.r(e);var a=i("cfe6a"),n=i("7673");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("b813");var o,s=i("f0c5"),u=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"70b6ee1e",null,!1,a["a"],o);e["default"]=u.exports}}]);