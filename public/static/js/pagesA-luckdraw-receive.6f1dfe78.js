(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-luckdraw-receive"],{"0306":function(e,t,i){"use strict";i.r(t);var a=i("c3bc"),s=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=s.a},3482:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */\r\n/*文字颜色*/uni-page-body[data-v-4be572cb]{background:#f8f8f8;padding-bottom:%?100?%}.address-section[data-v-4be572cb]{padding:%?30?% 0;background:#fff;position:relative;margin:%?20?%;border-radius:10px}.address-section .empty-address[data-v-4be572cb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?28?%;font-weight:600;padding:%?20?% 0}.address-section .address-content[data-v-4be572cb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.address-section .icon-shouhuodizhi[data-v-4be572cb]{-webkit-flex-shrink:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?90?%;color:#888;font-size:%?44?%}.address-section .cen[data-v-4be572cb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?28?%;color:#333}.address-section .name[data-v-4be572cb]{font-size:%?30?%;margin-right:%?24?%}.address-section .address[data-v-4be572cb]{margin-top:%?16?%;margin-right:%?20?%;color:#999}.address-section .icon-you[data-v-4be572cb]{font-size:%?32?%;color:#999;margin-right:%?30?%}.address-section .arrow-right[data-v-4be572cb]{position:absolute;right:%?10?%;top:40%}.goods-section[data-v-4be572cb]{margin:%?20?%;border-radius:10px;background:#fff}.goods-section .g-header[data-v-4be572cb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?84?%;padding:0 %?30?%;position:relative}.goods-section .logo[data-v-4be572cb]{display:block;width:%?50?%;height:%?50?%;border-radius:100px}.goods-section .name[data-v-4be572cb]{font-size:%?30?%;color:#3b7bf6;margin-left:%?24?%}.goods-section .g-item[data-v-4be572cb]{display:-webkit-box;display:-webkit-flex;display:flex;padding:%?20?%}.goods-section .g-item uni-image[data-v-4be572cb]{-webkit-flex-shrink:0;flex-shrink:0;display:block;width:%?140?%;height:%?140?%;border-radius:%?10?%}.goods-section .g-item .goods_name[data-v-4be572cb]{display:block;font-size:%?28?%;color:#333;line-height:%?40?%;height:%?80?%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.goods-section .g-item .price-box[data-v-4be572cb]{font-size:%?40?%;color:#333;line-height:1}.goods-section .g-item .price-box .price[data-v-4be572cb]{font-size:%?40?%;line-height:1}.goods-section .g-item .price-box .price[data-v-4be572cb]:before{content:"￥";font-size:%?24?%}.goods-section .g-item .step-box[data-v-4be572cb]{position:relative}.yt-list[data-v-4be572cb]{margin:%?20?%;border-radius:10px;background:#fff}.yt-list-cell[data-v-4be572cb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?30?% %?20?%;position:relative}.yt-list-cell.cell-hover[data-v-4be572cb]{background:#fafafa}.yt-list-cell.b-b[data-v-4be572cb]:after{left:%?30?%}.yt-list-cell .cell-icon[data-v-4be572cb]{height:%?32?%;width:%?32?%;font-size:%?22?%;color:#fff;text-align:center;line-height:%?32?%;background:#f85e52;border-radius:%?4?%;margin-right:%?12?%}.yt-list-cell .cell-icon.hb[data-v-4be572cb]{background:#ffaa0e}.yt-list-cell .cell-icon.lpk[data-v-4be572cb]{background:#3ab54a}.yt-list-cell .cell-more[data-v-4be572cb]{-webkit-align-self:center;align-self:center;font-size:%?24?%;color:#999;margin-left:%?8?%;margin-right:%?-10?%}.yt-list-cell .cell-tit[data-v-4be572cb]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?28?%;color:#333;margin-right:%?10?%}.yt-list-cell .cell-tip.disabled[data-v-4be572cb]{color:#999}.yt-list-cell .cell-tip.active[data-v-4be572cb]{color:#3b7bf6}.yt-list-cell .cell-tip.red[data-v-4be572cb]{color:#3b7bf6}.yt-list-cell.desc-cell .cell-tit[data-v-4be572cb]{max-width:%?90?%}.yt-list-cell .desc[data-v-4be572cb]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?28?%;color:#333}.footer[data-v-4be572cb]{position:fixed;left:0;bottom:0;z-index:995;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:%?98?%;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;font-size:%?30?%;background-color:#fff;z-index:998;color:#3b7bf6;padding:0 %?20?%}.footer .price-content[data-v-4be572cb]{padding-right:%?30?%}.footer .price-tip[data-v-4be572cb]{color:#fc4a5b;margin-left:%?8?%}.footer .price[data-v-4be572cb]{font-size:%?40?%}.footer .price[data-v-4be572cb]:before{content:"￥";font-size:%?24?%}.footer .submit[data-v-4be572cb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?200?%;height:%?70?%;color:#fff;border-radius:%?40?%;font-size:%?28?%}body.?%PAGE?%[data-v-4be572cb]{background:#f8f8f8}',""]),e.exports=t},"94a2":function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}));var a={uIcon:i("c688").default},s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"page-body",class:[e.app.setCStyle()]},[e.addressData.address_id>0?i("v-uni-view",[i("v-uni-navigator",{staticClass:"address-section",attrs:{url:"/pages/member/address/list?source=1&from=luckdraw"}},[i("v-uni-view",{staticClass:"address-content"},[i("u-icon",{staticClass:"ml20 mr20 base-color",attrs:{name:"map-fill",size:"42"}}),i("v-uni-view",{staticClass:"cen"},[i("v-uni-view",{staticClass:"top"},[i("v-uni-text",{staticClass:"name"},[e._v(e._s(e.addressData.consignee))]),i("v-uni-text",{staticClass:"mobile fs30 font-w600"},[e._v(e._s(e.addressData.mobile))])],1),i("v-uni-text",{staticClass:"address fs28"},[e._v(e._s(e.addressData.merger_name)+" "+e._s(e.addressData.address))])],1),i("u-icon",{staticClass:"arrow-right",attrs:{name:"arrow-right",color:"#333333",size:"20"}})],1)],1)],1):i("v-uni-view",[i("v-uni-navigator",{staticClass:"address-section",attrs:{url:"/pages/member/address/manage?source=1&from=luckdraw"}},[i("v-uni-view",{staticClass:"empty-address"},[i("v-uni-view",{staticClass:"smll"},[i("u-icon",{staticClass:"ml20 mr20",attrs:{name:"/static/public/images/icon_live.png",size:"42"}}),i("v-uni-text",[e._v("选择收货地址")])],1),i("u-icon",{staticClass:"arrow-right",attrs:{name:"arrow-right",color:"#333333",size:"20"}})],1)],1)],1),i("v-uni-view",{staticClass:"goods-section"},[i("v-uni-view",{staticClass:"g-item"},[i("v-uni-image",{attrs:{src:e.baseUrl+e.prize.goods.goods_thumb}}),i("v-uni-view",{staticClass:"ml10 flex"},[i("v-uni-view",{staticClass:"flex_bd"},[i("v-uni-view",{staticClass:"goods_name"},[e._v(e._s(e.prize.goods.goods_name))])],1),i("v-uni-view",{staticClass:"text-right price-box"},[i("v-uni-view",{staticClass:"fs30 mt10 color-99"},[e._v("x1")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"yt-list-cell"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[e._v("兑换奖品")]),i("v-uni-text",{staticClass:"cell-tip ff base-color"},[e._v(e._s(e.prize.prize_name))])],1),i("v-uni-view",{staticClass:"yt-list-cell"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[e._v("运费")]),0==e.shipping_fee_ing?i("v-uni-text",{staticClass:"cell-tip ff base-color"},[e._v(e._s(e.shipping_fee))]):i("v-uni-text",{staticClass:"cell-tip base-color"},[e._v("运费计算中...")])],1),i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[e._v("备注")]),i("v-uni-input",{staticClass:"desc",attrs:{type:"text",placeholder:"请输入备注内容","placeholder-class":"placeholder"},model:{value:e.desc,callback:function(t){e.desc=t},expression:"desc"}})],1)],1),i("v-uni-view",{staticClass:"footer"},[i("v-uni-view",{staticClass:"price-content base-color"},[i("v-uni-text",{staticClass:"fs28"},[e._v("合计:")]),i("v-uni-text",{staticClass:"price ff"},[e._v(e._s(e.order_total))])],1),i("v-uni-text",{staticClass:"submit primarybtn",attrs:{loading:e.isLoading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("确认兑换")])],1)],1)},n=[]},a441:function(e,t,i){var a=i("3482");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var s=i("4f06").default;s("414b289b",a,!0,{sourceMap:!1,shadowMode:!1})},c3bc:function(e,t,i){"use strict";var a=i("4ea4");i("b680"),i("acd8"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var s=a(i("1da1")),n={data:function(){return{log_id:0,prize:[],shipping_fee_ing:1,setting:{},baseUrl:this.config.baseUrl,isLoading:!1,desc:"",address_id:0,addressData:{},goods_total:0,shipping_fee:0,order_total:0}},onLoad:function(e){this.app.isLogin(this),this.log_id=e.log_id,this.loadData(),this.getAddress()},onShow:function(){},methods:{loadData:function(){var e=this;return(0,s.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$u.post("luckdraw/api.receive/getInfo",{log_id:e.log_id}).then((function(t){e.prize=t.data})).catch((function(t){e.app.showModal(t.msg,-1)}));case 1:case"end":return t.stop()}}),t)})))()},getAddress:function(){var e=this;return(0,s.default)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=uni.getStorageSync("address_id"),e.$u.post("member/api.address/getAddress",{address_id:i}).then((function(t){e.addressData=t.data,e.addressData.address_id>0?e.address_id=e.addressData.address_id:e.address_id=0,e.evalShippingFee()}));case 2:case"end":return t.stop()}}),t)})))()},evalShippingFee:function(){var e=this;return(0,s.default)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i={},i.address_id=e.address_id,i.log_id=e.log_id,e.shipping_fee_ing=1,e.$u.post("luckdraw/api.receive/evalShippingFee",i).then((function(t){e.shipping_fee_ing=0,e.shipping_fee=t.data.shippingFee.shipping_fee,e.supplyerShippingFee=t.data.shippingFee.supplyerShippingFee,e.calcTotal()}));case 5:case"end":return t.stop()}}),t)})))()},calcTotal:function(){var e=0;e=parseFloat(e)+parseFloat(this.shipping_fee),this.order_total=e.toFixed(2)},submit:function(){var e=this;if(1==this.isLoading)return!1;var t={};if(this.address_id<1)return uni.showToast({title:"请选择收货地址.",duration:2e3,icon:"none"}),!1;t.address_id=this.address_id,t.log_id=this.log_id,t.buy_msg=this.desc,this.isLoading=!0,this.$u.post("luckdraw/api.receive/addOrder",t).then((function(e){var t=e.data.order_id;uni.redirectTo({url:"/pages/shop/order/pay?order_id=".concat(t)})})).catch((function(t){e.isLoading=!1}))},stopPrevent:function(){}}};t.default=n},e7c8:function(e,t,i){"use strict";var a=i("a441"),s=i.n(a);s.a},e8d3:function(e,t,i){"use strict";i.r(t);var a=i("94a2"),s=i("0306");for(var n in s)"default"!==n&&function(e){i.d(t,e,(function(){return s[e]}))}(n);i("e7c8");var o,r=i("f0c5"),c=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,"4be572cb",null,!1,a["a"],o);t["default"]=c.exports}}]);