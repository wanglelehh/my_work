(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shop-comment-post"],{"64c9":function(t,i,n){"use strict";n.r(i);var e=n("fd12"),s=n("8880");for(var a in s)"default"!==a&&function(t){n.d(i,t,(function(){return s[t]}))}(a);var o,c=n("f0c5"),u=Object(c["a"])(s["default"],e["b"],e["c"],!1,null,"5b23ae9f",null,!1,e["a"],o);i["default"]=u.exports},8880:function(t,i,n){"use strict";n.r(i);var e=n("c029"),s=n.n(e);for(var a in e)"default"!==a&&function(t){n.d(i,t,(function(){return e[t]}))}(a);i["default"]=s.a},c029:function(t,i,n){"use strict";n("a15b"),n("a434"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={data:function(){return{isLoading:!1,baseUrl:this.config.baseUrl,showPage:!1,rec_id:0,comment:{},goodsImage:"",upAction:this.config.upImageUrl,fileList:[],content:""}},onLoad:function(t){this.rec_id=t.rec_id;var i=this.app.langReplace("提交评论");uni.setNavigationBarTitle({title:i}),this.getInfo()},onShow:function(){},onHide:function(){},onReady:function(){},methods:{getInfo:function(){var t=this;this.$u.post("shop/api.comment/getInfo",{rec_id:this.rec_id}).then((function(i){t.comment=i.data,t.goodsImage=t.config.baseUrl+t.comment.pic,t.showPage=!0})).catch((function(i){t.app.showModal(i.msg,-1)}))},uploaded:function(t,i,n){t=JSON.parse(t.data);this.fileList.push(t.file)},removeImg:function(t,i){var n=this.fileList[t];this.fileList.splice(t,1),this.$u.post(this.config.removeImageUrl,{file:n}).then((function(t){}))},post:function(){var t=this;if(1==this.isLoading)return!1;this.isLoading=!0;var i={};i.rec_id=this.rec_id,i.content=this.content,i.fileList=this.fileList.join(","),this.$u.post("shop/api.comment/post",i).then((function(i){t.isLoading=!1,t.app.showModal(i.msg,"my",-1)})).catch((function(i){t.isLoading=!1}))},stopPrevent:function(){}}};i.default=e},fd12:function(t,i,n){"use strict";n.d(i,"b",(function(){return s})),n.d(i,"c",(function(){return a})),n.d(i,"a",(function(){return e}));var e={uUpload:n("c374").default},s=function(){var t=this,i=t.$createElement,n=t._self._c||i;return t.showPage?n("v-uni-view",{staticClass:"page-body",class:[t.app.setCStyle()]},[n("v-uni-view",{staticClass:"p20 bg-white mb20"},[n("v-uni-view",{staticClass:"font-w600"},[t._v("商品信息")]),n("v-uni-view",{staticClass:"flex mt20"},[n("v-uni-image",{staticStyle:{width:"140rpx",height:"140rpx","border-radius":"10rpx"},attrs:{src:t.goodsImage}}),n("v-uni-view",{staticClass:"flex_bd ml20"},[n("v-uni-view",{staticClass:"flex"},[n("v-uni-view",{staticClass:"goods_name flex_bd"},[t._v(t._s(t.comment.goods_name))]),n("v-uni-view",{staticClass:"ml10"},[n("v-uni-view",[n("v-uni-text",{staticClass:"fs22"},[t._v("￥")]),t._v(t._s(t.comment.sale_price))],1)],1)],1),n("v-uni-view",{staticClass:"mt10 smll fixed"},[t.comment.sku_name?n("v-uni-view",{staticClass:"flex_bd color-cc fs26"},[t._v(t._s(t.comment.sku_name))]):t._e()],1)],1)],1)],1),n("v-uni-view",{staticClass:"mt20 p20 bg-white fs28"},[n("v-uni-view",[t._v("评价")]),n("v-uni-textarea",{staticClass:"w100 h200 mt10",attrs:{"placeholder-style":"color:#cccccc;font-size:28rpx;",placeholder:"请输入您的评价~"},model:{value:t.content,callback:function(i){t.content=i},expression:"content"}})],1),n("v-uni-view",{staticClass:"bg-white p20 mt20"},[n("v-uni-view",{staticClass:"fs30"},[t._v("上传图片")]),n("v-uni-view",{staticClass:"mt20"},[n("u-upload",{ref:"upload",attrs:{action:t.upAction,"max-count":"6"},on:{"on-change":function(i){arguments[0]=i=t.$handleEvent(i),t.uploaded.apply(void 0,arguments)},"on-remove":function(i){arguments[0]=i=t.$handleEvent(i),t.removeImg.apply(void 0,arguments)}}})],1)],1),n("v-uni-view",{staticClass:"p20 mt20"},[n("v-uni-button",{staticClass:"primarybtn mt20",attrs:{type:"warning",loading:t.isLoading},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.post.apply(void 0,arguments)}}},[t._v("立即提交")])],1)],1):t._e()},a=[]}}]);