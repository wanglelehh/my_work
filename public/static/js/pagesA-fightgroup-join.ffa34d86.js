(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-fightgroup-join"],{"06c5":function(e,t,s){"use strict";s("a630"),s("fb6a"),s("d3b7"),s("25f0"),s("3ca3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=o(s("6b75"));function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(e){if("string"===typeof e)return(0,i.default)(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?(0,i.default)(e,t):void 0}}},"1caa":function(e,t,s){"use strict";s.r(t);var i=s("418d"),o=s.n(i);for(var n in i)"default"!==n&&function(e){s.d(t,e,(function(){return i[e]}))}(n);t["default"]=o.a},"2cc1":function(e,t,s){var i=s("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */\r\n/*文字颜色*/uni-page-body[data-v-2ebac216]{background:#f8f8f8;padding-bottom:%?100?%}.g-item[data-v-2ebac216]{display:-webkit-box;display:-webkit-flex;display:flex;padding:%?20?%;background-color:#fff}.g-item uni-image[data-v-2ebac216]{-webkit-flex-shrink:0;flex-shrink:0;display:block;width:%?140?%;height:%?140?%;border-radius:%?10?%}.g-item .right[data-v-2ebac216]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding-left:%?20?%;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.g-item .title[data-v-2ebac216]{display:block;font-size:%?28?%;color:#333;line-height:%?40?%;height:%?80?%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.fguser[data-v-2ebac216]{width:%?120?%;height:%?120?%;overflow:hidden;border-radius:50%;position:relative;margin:%?0?% %?10?%;margin-top:%?20?%;float:left;border:%?1?% dotted;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.fguser uni-image[data-v-2ebac216]{width:100%}.fguser .tip[data-v-2ebac216]{position:absolute;bottom:%?0?%}body.?%PAGE?%[data-v-2ebac216]{background:#f8f8f8}',""]),e.exports=t},"418d":function(e,t,s){"use strict";var i=s("4ea4");s("4160"),s("a15b"),s("b64b"),s("e25e"),s("ac1f"),s("5319"),s("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(s("b85c")),n=i(s("f33a")),a={components:{goodsSpec:n.default},data:function(){return{baseUrl:this.config.baseUrl,setting:{},d_join_id:0,join_id:0,fg_id:0,fgInfo:{goods:{}},fgJoinInfo:{},liveCountTimes:"",liveCountdown:"",goods_thumb:"",specClass:"none",specSelectedArr:{},specSelected:[],byType:"",skuGNum:{},specList:[],specChildList:[],selectFGoods:{},selectGoods:{},selectSkuId:0,selectGoodsPrice:"0.00",selectGoodSmarketPrice:"0.00",selectGoodsNumber:0,selectGoodsImg:"",location_href:""}},onLoad:function(e){var t=this.app.langReplace("参与拼单");uni.setNavigationBarTitle({title:t});var s=parseInt(e.join_id);if(1==isNaN(s)||s<1)return this.app.showModal(this.app.langReplace("ID传值错误."),"/pages/shop/center/index",!0),!1;this.d_join_id=s,this.location_href=window.location.href,this.setting=uni.getStorageSync("setting")},onShow:function(){this.getInfo()},methods:{getInfo:function(){var e=this;this.$u.post("fightgroup/api.goods/fgjoin",{join_id:this.d_join_id}).then((function(t){e.fgJoinInfo=t.data.fgJoinInfo,e.fgInfo=t.data.fgInfo,e.fg_id=e.fgInfo.fg_id,""!=typeof e.fgJoinInfo._fail_time&&e.getLiveTimeCount(e.fgJoinInfo._fail_time),e.goods_thumb=e.baseUrl+e.fgInfo.goods.goods_thumb,e.selectGoods=e.fgInfo.goods,e.selectGoods.show_price=e.fgInfo.show_price,e.selectGoods.show_stock_num=t.data.show_stock_num,0==e.selectGoods.is_spec?(e.selectGoodsImg=e.config.baseUrl+e.selectGoods.goods_thumb,e.selectGoodsPrice=e.selectGoods.fg_sale_price,e.selectGoodSmarketPrice=e.selectGoods.market_price):e.specList=e.selectGoods.specList})).catch((function(e){}))},toggleSpec:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.join_id=s,"show"===this.specClass?(this.specClass="hide",setTimeout((function(){t.specClass="none"}),250)):"none"===this.specClass&&(this.specClass="show"),this.byType=e,1==this.selectGoods.is_spec){if(this.specChildList=[],this.selectGoods.specChildList.forEach((function(e){e.selected=!1,t.specChildList.push(e)})),"undefined"==typeof this.specSelectedArr[e]){var i=[];this.specSelectedArr[e]=i}else this.specChildList.forEach((function(s){var i,n=(0,o.default)(t.specSelectedArr[e]);try{for(n.s();!(i=n.n()).done;){var a=i.value;a.id===s.id&&t.$set(s,"selected",!0)}}catch(c){n.e(c)}finally{n.f()}}));this.specSelected=this.specSelectedArr[e],this.showSelectSpec()}else this.selectGoodsPrice=this.selectGoods.fg_sale_price,this.selectGoodsNumber=this.selectGoods.fg_sale_number},selectSpec:function(e){var t=[];e.forEach((function(e){!0===e.selected&&t.push(e)})),this.specSelectedArr[this.byType]=t,this.specSelected=t,this.showSelectSpec()},showSelectSpec:function(){var e=this;this.selectSkuId=0;var t=[];this.specSelected.forEach((function(e){t.push(e.id)}));var s=t.join(":");if(Object.keys(this.selectGoods.sub_goods).forEach((function(t){var i=e.selectGoods.sub_goods[t];if(s==i.sku_val)return e.selectGoodSmarketPrice=i.market_price,i.fg_sale_price>0&&(e.selectSkuId=parseInt(i.sku_id),e.selectGoodsPrice=i.fg_sale_price,e.selectGoodsNumber=i.fg_goods_number),!1})),this.selectSkuId<1&&(this.selectGoodsImg=this.config.baseUrl+this.selectGoods.goods_thumb),t.length<1)return!1;var i=[];this.specList.forEach((function(e,s){2==e.img_type&&i.push(t[s])}));var o=i.join(":");this.selectGoods.imgSkuList.forEach((function(t){if(o==t.sku_val)return e.selectGoodsImg=e.config.baseUrl+t.goods_thumb,!1}))},getLiveTimeCount:function(e){var t=this;"undefined"!=typeof this.liveCountTimes&&clearInterval(this.liveCountTimes),this.liveCountTimes=setInterval((function(){var s=(new Date).getTime(),i="",o=e.replace(/-/g,"/"),n=new Date(o).getTime(),a=null;if(n-s>0){var c=(n-s)/1e3;if(c>0){var l=parseInt(c/86400),r=parseInt(c%86400/3600),f=parseInt(c%86400%3600/60),d=parseInt(c%86400%3600%60),u=Math.floor(1e3*c%1e3/100);a={day:l<10?"0"+l:l,hou:r<10?"0"+r:r,min:f<10?"0"+f:f,sec:d<10?"0"+d:d},l>0&&(i+=a.day+"天"),r>0&&(i+=a.hou+":"),i+=a.min+":"+a.sec,i+=":"+u}else i="已结束"}else i="已结束";t.liveCountdown=i}),100)}}};t.default=a},5175:function(e,t,s){"use strict";var i;s.d(t,"b",(function(){return o})),s.d(t,"c",(function(){return n})),s.d(t,"a",(function(){return i}));var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-uni-view",{staticClass:"page-body",class:[e.app.setCStyle()]},[s("v-uni-view",{staticClass:"fs30 font-w600 p20 bg-white"},[e._v(e._s(e.app.langReplace("商品信息")))]),s("v-uni-view",{staticClass:"g-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.app.goPage("info?fg_id="+e.fgInfo.fg_id+"&join_id="+e.d_join_id)}}},[s("v-uni-image",{attrs:{src:e.goods_thumb}}),s("v-uni-view",{staticClass:"right"},[s("v-uni-text",{staticClass:"title "},[e._v(e._s(e.fgInfo.goods.goods_name))]),s("v-uni-view",[s("v-uni-text",{staticClass:"fs28"},[e._v("¥")]),s("v-uni-text",{staticClass:"ff fs42"},[e._v(e._s(e.fgInfo.show_price))]),1==e.fgInfo.goods.is_spec?s("v-uni-text",{staticClass:"ml10 fs32 font-w600 color-f6"},[e._v(e._s(e.app.langReplace("起")))]):e._e(),s("v-uni-text",{staticClass:"bg-base color-ff plr10 fs22 ml10"},[e._v(e._s(e.app.langReplace("拼团价")))]),s("v-uni-text",{staticClass:"color-33 fs24 ml10"},[e._v(e._s(e.app.langReplace("单买价"))+": ￥"+e._s(e.fgInfo.goods.min_price))])],1)],1)],1),s("v-uni-view",{staticClass:"mt10 mb20 bg-white p20 fs28"},[s("v-uni-view",{staticClass:"smll"},[s("v-uni-text",{staticClass:"bg-base color-ff plr10 ptm5 mr10"},[e._v(e._s(e.fgInfo.success_num)+" "+e._s(e.app.langReplace("人团")))]),1==e.fgInfo.status?s("v-uni-view",[s("v-uni-text",{staticClass:"base-color"},[e._v(e._s(e.app.langReplace("还差"))+"："+e._s(e.fgJoinInfo.last_num)+"，")]),e._v(e._s(e.app.langReplace("剩余时间"))+"："),s("v-uni-text",{staticClass:"color-red"},[e._v(e._s(e.liveCountdown))])],1):2==e.fgInfo.status?s("v-uni-view",[s("v-uni-text",{staticClass:"base-color"},[e._v(e._s(e.app.langReplace("拼团满团，待完成支付"))+"，")]),e._v(e._s(e.app.langReplace("剩余时间"))+"："),s("v-uni-text",{staticClass:"color-red"},[e._v(e._s(e.liveCountdown))])],1):3==e.fgInfo.status?s("v-uni-view",[s("v-uni-text",{staticClass:"base-color"},[e._v(e._s(e.app.langReplace("拼团成功")))])],1):9==e.fgInfo.status?s("v-uni-view",[s("v-uni-text",{staticClass:"base-color"},[e._v(e._s(e.app.langReplace("拼团失败")))])],1):e._e()],1),e.fgInfo.status<9?s("v-uni-view",{staticClass:"clearfix"},e._l(e.fgJoinInfo.order,(function(t,i){return s("v-uni-view",{key:i,staticClass:"fguser border-color"},[s("v-uni-image",{attrs:{src:t.headimgurl?e.baseUrl+t.headimgurl:"/static/public/images/headimgurl.jpg"}}),0==i?s("v-uni-text",{staticClass:"tip color-ff bg-base fs24 w100 text-center"},[e._v(e._s(e.app.langReplace("团长")))]):e._e()],1)})),1):e._e()],1),s("v-uni-view",{staticClass:"p20 bg-white"},[s("v-uni-view",{staticClass:"fs30 font-w600"},[e._v(e._s(e.app.langReplace("参团规则")))]),s("v-uni-view",{staticClass:"fs28 color-66 mt20"},[e._v(e._s(e.app.langReplace("如规定时间内团内人数不足，则订单取消，支付款原路返还")))])],1),s("v-uni-view",{staticClass:"p20"},[1==e.fgInfo.status?s("v-uni-view",[s("v-uni-button",{staticClass:"primarybtn mt40",attrs:{size:"default"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleSpec("fgbuy",e.d_join_id)}}},[e._v(e._s(e.app.langReplace("参与拼单")))]),s("v-uni-button",{staticClass:"primarybtnB mt40",attrs:{size:"default"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.app.copy(e.location_href)}}},[e._v(e._s(e.app.langReplace("复制链接")))]),s("v-uni-button",{staticClass:"primarybtnB mt40",attrs:{size:"default"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.app.goPage("info?fg_id="+e.fgInfo.fg_id+"&join_id="+e.d_join_id)}}},[e._v(e._s(e.app.langReplace("查看拼团商品")))])],1):s("v-uni-view",[s("v-uni-view",{staticClass:"color-red"},[e._v(e._s(e.app.langReplace("当前拼单非【拼团中】状态，您不能参与拼单，您可以自行发起拼团，或者前往拼团商品中参与其它人发起的拼单")))]),s("v-uni-button",{staticClass:"primarybtn mt40",attrs:{size:"default"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleSpec("fgbuy",0)}}},[e._v(e._s(e.app.langReplace("发起拼单")))]),s("v-uni-button",{staticClass:"primarybtnB mt40",attrs:{size:"default"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.app.goPage("info?fg_id="+e.fgInfo.fg_id)}}},[e._v(e._s(e.app.langReplace("查看拼团商品")))])],1)],1),s("goodsSpec",{attrs:{specClass:e.specClass,specSelected:e.specSelected,selectGoods:e.selectGoods,selectGoodsPrice:e.selectGoodsPrice,selectGoodSmarketPrice:e.selectGoodSmarketPrice,selectGoodsNumber:e.selectGoodsNumber,selectGoodsImg:e.selectGoodsImg,specList:e.specList,specChildList:e.specChildList,selectSkuId:e.selectSkuId,byType:e.byType,fg_id:e.fg_id,join_id:e.join_id},on:{selectSpec:function(t){arguments[0]=t=e.$handleEvent(t),e.selectSpec.apply(void 0,arguments)},toggleSpec:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleSpec.apply(void 0,arguments)}}})],1)},n=[]},"6b75":function(e,t,s){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,i=new Array(t);s<t;s++)i[s]=e[s];return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},a79f:function(e,t,s){var i=s("2cc1");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=s("4f06").default;o("ce299292",i,!0,{sourceMap:!1,shadowMode:!1})},b3ab:function(e,t,s){"use strict";var i=s("a79f"),o=s.n(i);o.a},b3e8:function(e,t,s){"use strict";s.r(t);var i=s("5175"),o=s("1caa");for(var n in o)"default"!==n&&function(e){s.d(t,e,(function(){return o[e]}))}(n);s("b3ab");var a,c=s("f0c5"),l=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"2ebac216",null,!1,i["a"],a);t["default"]=l.exports},b85c:function(e,t,s){"use strict";s("a4d3"),s("e01a"),s("d28b"),s("d3b7"),s("3ca3"),s("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=o(s("06c5"));function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var s;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(s=(0,i.default)(e))||t&&e&&"number"===typeof e.length){s&&(e=s);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,l=!1;return{s:function(){s=e[Symbol.iterator]()},n:function(){var e=s.next();return c=e.done,e},e:function(e){l=!0,a=e},f:function(){try{c||null==s["return"]||s["return"]()}finally{if(l)throw a}}}}}}]);