(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shop-order-list"],{"13c6":function(t,e,a){"use strict";var i=a("4ea4");a("99af"),a("a434"),a("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("17e1")),o=i(a("d575")),r={components:{uniLoadMore:n.default,empty:o.default},data:function(){return{baseUrl:this.config.baseUrl,tabCurrentIndex:0,param:{type:"",p:0},navList:[{type:"all",text:this.app.langReplace("全部"),loadingType:"more",orderList:[],p:0},{type:"waitPay",text:this.app.langReplace("待付款"),loadingType:"more",orderList:[],num:0,p:0},{type:"waitShipping",text:this.app.langReplace("待发货"),loadingType:"more",orderList:[],num:0,p:0},{type:"waitSign",text:this.app.langReplace("待收货"),loadingType:"more",orderList:[],num:0,p:0},{type:"sign",text:this.app.langReplace("已完成"),loadingType:"more",orderList:[],p:0}]}},onLoad:function(t){this.app.isLogin(this);var e=this.app.langReplace("订单列表");uni.setNavigationBarTitle({title:e}),"undefined"!=typeof t.state&&(this.tabCurrentIndex=parseInt(t.state)),this.getOrderStats(),this.loadData()},methods:{getOrderStats:function(){var t=this;this.$u.post("shop/api.order/getOrderStats").then((function(e){var a=e.data.orderStats;t.navList[1].num=a.wait_pay_num,t.navList[2].num=a.wait_shipping_num,t.navList[3].num=a.wait_sign_num}))},loadData:function(t){var e=this,a=this.tabCurrentIndex,i=this.navList[a];"nomore"!=i.loadingType&&("tabChange"===t&&!0===i.loaded||"loading"!==i.loadingType&&(i.p++,this.param.type=i.type,this.param.p=i.p,i.loadingType="loading",this.$u.post("shop/api.order/getList",this.param).then((function(t){i.orderList=i.orderList.concat(t.data.list),e.$set(i,"loaded",!0),i.loadingType=i.p==t.data.page_count?"nomore":"more"}))))},changeTab:function(t){this.tabCurrentIndex=t.target.current,this.loadData("tabChange")},tabClick:function(t){this.tabCurrentIndex=t},signAction:function(t,e){var a=this,i=this.app.langReplace("确认已收到商品？操作后无法撤回."),n=this.tabCurrentIndex,o=this.navList[n];uni.showModal({title:this.app.langReplace("提示"),content:i,confirmText:this.app.langReplace("确定"),cancelText:this.app.langReplace("取消"),showCancel:!0,success:function(i){i.confirm&&a.$u.post("shop/api.order/action",{order_id:t,type:"sign"}).then((function(t){o.orderList.splice(e,1)}))}})},deleteOrder:function(t,e){var a=this.tabCurrentIndex,i=this.navList[a];this.$u.post("shop/api.order/action",{order_id:t,type:"del"}).then((function(t){i.orderList.splice(e,1)}))},cancelOrder:function(t,e){var a=this;uni.showModal({title:this.app.langReplace("提示"),content:this.app.langReplace("确定取消订单？"),showCancel:!0,confirmText:this.app.langReplace("确定"),cancelText:this.app.langReplace("取消"),success:function(i){var n=this;if(i.confirm){var o=a.tabCurrentIndex,r=a.navList[o];a.$u.post("shop/api.order/action",{order_id:t,type:"cancel"}).then((function(t){r.orderList[e].ostatus=n.app.langReplace("已取消"),r.orderList[e].isDelete=1,r.orderList[e].isPay=0,r.orderList[e].isCancel=0}))}}})}}};e.default=r},"17e1":function(t,e,a){"use strict";a.r(e);var i=a("f554"),n=a("d109");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("9337");var r,s=a("f0c5"),l=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"70c434fa",null,!1,i["a"],r);e["default"]=l.exports},"3b78":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{src:{type:String,default:"empty"}},data:function(){return{typeSrc:{empty:"/static/public/images/img_05.png"}}},computed:{setSrc:function(){return this.typeSrc[this.src]}}};e.default=i},"4e0b":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var i={uIcon:a("c688").default,uniLoadMore:a("17e1").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"page-body",class:[t.app.setCStyle()]},[a("v-uni-view",{staticClass:"navbar base-select"},t._l(t.navList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"nav-item text-center",class:{current:t.tabCurrentIndex===i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabClick(i)}}},[t._v(t._s(e.text))])})),1),a("v-uni-swiper",{staticClass:"swiper-box",attrs:{current:t.tabCurrentIndex,duration:"300"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab.apply(void 0,arguments)}}},t._l(t.navList,(function(e,i){return a("v-uni-swiper-item",{key:i,staticClass:"tab-content"},[a("v-uni-scroll-view",{staticClass:"hb100",attrs:{"scroll-y":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.loadData.apply(void 0,arguments)}}},[!0===e.loaded&&0===e.orderList.length?a("empty"):t._e(),t._l(e.orderList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"order-item p20 mb10"},[a("v-uni-view",{staticClass:"i-top"},[a("v-uni-view",{staticClass:"sn_time"},[a("v-uni-text",[t._v(t._s(t.app.langReplace("订单编号"))+"："+t._s(e.order_sn))])],1),a("v-uni-text",{staticClass:"state"},[t._v(t._s(t.app.langReplace(e.ostatus)))]),1===e.isDelete?a("u-icon",{staticClass:"del-btn",attrs:{name:"trash-fill"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.deleteOrder(e.order_id,i)}}}):t._e()],1),a("v-uni-view",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.app.goPage("/pages/shop/order/info?order_id="+e.order_id)}}},[t._l(e.goodsList,(function(i,n){return a("v-uni-view",{key:n,staticClass:"flex mt20"},[a("v-uni-image",{staticStyle:{width:"140rpx",height:"140rpx","border-radius":"10rpx"},attrs:{src:t.baseUrl+i.pic}}),a("v-uni-view",{staticClass:"flex_bd ml20"},[a("v-uni-view",{staticClass:"flex"},[a("v-uni-view",{staticClass:"goods_name flex_bd"},[t._v(t._s(i.goods_name))]),a("v-uni-view",{staticClass:"ml10"},[1==e.order_type?a("v-uni-view",[t._v(t._s(i.use_integral)),a("v-uni-text",{staticClass:"fs22"},[t._v(t._s(t.app.langReplace("积分")))])],1):a("v-uni-view",[a("v-uni-text",{staticClass:"fs22"},[t._v("￥")]),t._v(t._s(i.sale_price))],1),a("v-uni-view",{staticClass:"text-right color-99"},[t._v("x"+t._s(i.goods_number))])],1)],1),a("v-uni-view",{staticClass:"flex mt10"},[i.sku_id>0?a("v-uni-view",{staticClass:"color-cc fs26"},[t._v(t._s(i.sku_name))]):t._e()],1)],1)],1)})),a("v-uni-view",{staticClass:"price-box"},[t._v(t._s(t.app.langReplace("共"))+":"),a("v-uni-text",{staticClass:"num"},[t._v(t._s(e.goodsNum))]),t._v(t._s(t.app.langReplace("件商品"))),1==e.order_type?a("v-uni-view",{staticClass:"base-color "},[t._v("，"+t._s(e.use_integral)),a("v-uni-text",{staticClass:"fs22"},[t._v(t._s(t.app.langReplace("积分")))])],1):t._e(),t._v("，"+t._s(t.app.langReplace("实付款"))+":"),a("v-uni-text",{staticClass:"price ff base-color"},[t._v(t._s(e.order_amount))])],1)],2),a("v-uni-view",{staticClass:"mt20"},[1==e.isReview?a("v-uni-button",{staticClass:"fr action-btn recom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.app.goPage("/pages/shop/comment/my")}}},[t._v(t._s(t.app.langReplace("立即评论")))]):t._e(),1==e.isPay?a("v-uni-button",{staticClass:"fr action-btn recom",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.app.goPage("pay?order_id="+e.order_id)}}},[t._v(t._s(t.app.langReplace("立即支付")))]):t._e(),1==e.isCancel?a("v-uni-button",{staticClass:"fr action-btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.cancelOrder(e.order_id,i)}}},[t._v(t._s(t.app.langReplace("取消")))]):t._e(),e.invoice_no?a("v-uni-button",{staticClass:"fr action-btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.app.goPage("shippingLog?order_id="+e.order_id)}}},[t._v(t._s(t.app.langReplace("查看物流")))]):t._e(),1==e.isSign?a("v-uni-button",{staticClass:"fr action-btn recom",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.signAction(e.order_id,i)}}},[t._v(t._s(t.app.langReplace("确认签收")))]):t._e()],1)],1)})),a("uni-load-more",{attrs:{status:e.loadingType}})],2)],1)})),1)],1)},o=[]},"5acd":function(t,e,a){var i=a("6b5c");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("11d63214",i,!0,{sourceMap:!1,shadowMode:!1})},"605f":function(t,e,a){"use strict";a.r(e);var i=a("4e0b"),n=a("8408");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("e466");var r,s=a("f0c5"),l=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"2524f410",null,!1,i["a"],r);e["default"]=l.exports},"6b5c":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */\r\n/*文字颜色*/uni-page-body[data-v-2524f410],\r\n.page-body[data-v-2524f410]{background:#f8f8f8;height:100%}.navbar .nav-item[data-v-2524f410]{position:relative;color:#999}.navbar .nav-item.current[data-v-2524f410]:after{border-bottom:%?4?% solid}.navbar .nav-item .tip-num[data-v-2524f410]{position:absolute;top:%?5?%;right:%?0?%;font-size:%?26?%;width:%?35?%;text-align:center;border-radius:50%;background-color:#fc4a5b;color:#fff}.swiper-box[data-v-2524f410]{height:calc(100% - 50px)}.order-item[data-v-2524f410]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;background:#fff;margin:%?20?%;border-radius:%?10?%}.order-item .i-top[data-v-2524f410]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?50?%;font-size:%?28?%;color:#333;position:relative}.order-item .i-top .sn_time[data-v-2524f410]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.order-item .i-top .sn_time uni-text[data-v-2524f410]{display:block;font-size:%?24?%;color:#666}.order-item .i-top .sn_time .time[data-v-2524f410]{color:#999}.order-item .i-top .state[data-v-2524f410]{font-size:%?24?%}.order-item .i-top .del-btn[data-v-2524f410]{padding:%?10?% 0 %?10?% %?36?%;font-size:%?32?%;color:#999;position:relative}.order-item .i-top .del-btn[data-v-2524f410]:after{content:"";width:0;height:%?30?%;border-left:1px solid #dcdfe6;position:absolute;left:%?20?%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.order-item .goods_name[data-v-2524f410]{display:block;font-size:%?28?%;color:#333;line-height:%?45?%;height:%?90?%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.order-item .price-box[data-v-2524f410]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:baseline;-webkit-align-items:baseline;align-items:baseline;font-size:%?26?%;color:#999}.order-item .price-box .num[data-v-2524f410]{margin:0 %?8?%;color:#333}.order-item .price-box .price[data-v-2524f410]{font-size:%?32?%;color:#666}.order-item .price-box .price[data-v-2524f410]:before{content:"￥";font-size:%?24?%;margin:0 %?2?% 0 %?8?%}body.?%PAGE?%[data-v-2524f410]{background:#f8f8f8}',""]),t.exports=e},8408:function(t,e,a){"use strict";a.r(e);var i=a("13c6"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"911c":function(t,e,a){var i=a("ed70");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("6a537074",i,!0,{sourceMap:!1,shadowMode:!1})},9337:function(t,e,a){"use strict";var i=a("911c"),n=a.n(i);n.a},"972a":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */\r\n/*文字颜色*/.empty-content[data-v-03e72995]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;position:absolute;left:0;top:0;right:0;bottom:0;background:#fff;padding-bottom:%?200?%}.empty-content-image[data-v-03e72995]{width:%?400?%;height:%?400?%}.empty-content .tip[data-v-03e72995]{color:#999}',""]),t.exports=e},b598:function(t,e,a){var i=a("972a");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("67f623ae",i,!0,{sourceMap:!1,shadowMode:!1})},bed3:function(t,e,a){"use strict";a.r(e);var i=a("3b78"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},bf41:function(t,e,a){"use strict";var i=a("b598"),n=a.n(i);n.a},c2b9:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"empty-content"},[a("v-uni-image",{staticClass:"empty-content-image",attrs:{src:t.setSrc,mode:"aspectFit"}}),a("v-uni-text",{staticClass:"tip"},[t._v(t._s(t.app.langReplace("哎呀~该页面暂无记录哦")))])],1)},o=[]},d109:function(t,e,a){"use strict";a.r(e);var i=a("ea04"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},d575:function(t,e,a){"use strict";a.r(e);var i=a("c2b9"),n=a("bed3");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("bf41");var r,s=a("f0c5"),l=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"03e72995",null,!1,i["a"],r);e["default"]=l.exports},e466:function(t,e,a){"use strict";var i=a("5acd"),n=a.n(i);n.a},ea04:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uni-load-more",props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"}}}},data:function(){return{}}};e.default=i},ed70:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".uni-load-more[data-v-70c434fa]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.uni-load-more__text[data-v-70c434fa]{font-size:%?28?%;color:#999}.uni-load-more__img[data-v-70c434fa]{height:24px;width:24px;margin-right:10px}.uni-load-more__img>uni-view[data-v-70c434fa]{position:absolute}.uni-load-more__img>uni-view uni-view[data-v-70c434fa]{width:6px;height:2px;border-top-left-radius:1px;border-bottom-left-radius:1px;background:#999;position:absolute;opacity:.2;-webkit-transform-origin:50%;transform-origin:50%;-webkit-animation:load-data-v-70c434fa 1.56s ease infinite;animation:load-data-v-70c434fa 1.56s ease infinite}.uni-load-more__img>uni-view uni-view[data-v-70c434fa]:nth-child(1){-webkit-transform:rotate(90deg);transform:rotate(90deg);top:2px;left:9px}.uni-load-more__img>uni-view uni-view[data-v-70c434fa]:nth-child(2){-webkit-transform:rotate(180deg);transform:rotate(180deg);top:11px;right:0}.uni-load-more__img>uni-view uni-view[data-v-70c434fa]:nth-child(3){-webkit-transform:rotate(270deg);transform:rotate(270deg);bottom:2px;left:9px}.uni-load-more__img>uni-view uni-view[data-v-70c434fa]:nth-child(4){top:11px;left:0}.load1[data-v-70c434fa],\n.load2[data-v-70c434fa],\n.load3[data-v-70c434fa]{height:24px;width:24px}.load2[data-v-70c434fa]{-webkit-transform:rotate(30deg);transform:rotate(30deg)}.load3[data-v-70c434fa]{-webkit-transform:rotate(60deg);transform:rotate(60deg)}.load1 uni-view[data-v-70c434fa]:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.load2 uni-view[data-v-70c434fa]:nth-child(1){-webkit-animation-delay:.13s;animation-delay:.13s}.load3 uni-view[data-v-70c434fa]:nth-child(1){-webkit-animation-delay:.26s;animation-delay:.26s}.load1 uni-view[data-v-70c434fa]:nth-child(2){-webkit-animation-delay:.39s;animation-delay:.39s}.load2 uni-view[data-v-70c434fa]:nth-child(2){-webkit-animation-delay:.52s;animation-delay:.52s}.load3 uni-view[data-v-70c434fa]:nth-child(2){-webkit-animation-delay:.65s;animation-delay:.65s}.load1 uni-view[data-v-70c434fa]:nth-child(3){-webkit-animation-delay:.78s;animation-delay:.78s}.load2 uni-view[data-v-70c434fa]:nth-child(3){-webkit-animation-delay:.91s;animation-delay:.91s}.load3 uni-view[data-v-70c434fa]:nth-child(3){-webkit-animation-delay:1.04s;animation-delay:1.04s}.load1 uni-view[data-v-70c434fa]:nth-child(4){-webkit-animation-delay:1.17s;animation-delay:1.17s}.load2 uni-view[data-v-70c434fa]:nth-child(4){-webkit-animation-delay:1.3s;animation-delay:1.3s}.load3 uni-view[data-v-70c434fa]:nth-child(4){-webkit-animation-delay:1.43s;animation-delay:1.43s}@-webkit-keyframes load-data-v-70c434fa{0%{opacity:1}100%{opacity:.2}}",""]),t.exports=e},f554:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"uni-load-more"},[a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.status&&t.showIcon,expression:"status === 'loading' && showIcon"}],staticClass:"uni-load-more__img"},[a("v-uni-view",{staticClass:"load1"},[a("v-uni-view",{style:{background:t.color}}),a("v-uni-view",{style:{background:t.color}}),a("v-uni-view",{style:{background:t.color}}),a("v-uni-view",{style:{background:t.color}})],1),a("v-uni-view",{staticClass:"load2"},[a("v-uni-view",{style:{background:t.color}}),a("v-uni-view",{style:{background:t.color}}),a("v-uni-view",{style:{background:t.color}}),a("v-uni-view",{style:{background:t.color}})],1),a("v-uni-view",{staticClass:"load3"},[a("v-uni-view",{style:{background:t.color}}),a("v-uni-view",{style:{background:t.color}}),a("v-uni-view",{style:{background:t.color}}),a("v-uni-view",{style:{background:t.color}})],1)],1),a("v-uni-text",{staticClass:"uni-load-more__text",style:{color:t.color}},[t._v(t._s(t.app.langReplace("more"===t.status?t.contentText.contentdown:"loading"===t.status?t.contentText.contentrefresh:t.contentText.contentnomore)))])],1)},o=[]}}]);