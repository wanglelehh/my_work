(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesB-channel-product-product"],{"29e7b":function(e,t,i){"use strict";i.r(t);var a=i("4266"),s=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=s.a},3824:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */\r\n/*文字颜色*/uni-page-body[data-v-75a6d95b]{background:#f8f8f8;padding-bottom:%?160?%}.carousel[data-v-75a6d95b]{height:%?722?%}.carousel uni-swiper[data-v-75a6d95b]{height:100%}.carousel .image-wrapper[data-v-75a6d95b]{width:100%;height:100%}.carousel .swiper-item[data-v-75a6d95b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-content:center;align-content:center;height:%?750?%;overflow:hidden}.carousel .swiper-item uni-image[data-v-75a6d95b]{width:100%;height:100%}\r\n/* 标题简介 */.introduce-section[data-v-75a6d95b]{background:#fff;padding:%?20?% %?30?%;position:relative}.introduce-section .title[data-v-75a6d95b]{font-size:%?32?%;color:#333;height:%?50?%;line-height:%?50?%}.introduce-section .price-box[data-v-75a6d95b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:baseline;-webkit-align-items:baseline;align-items:baseline;height:%?64?%;padding:%?10?% 0;font-size:%?26?%;color:#3b7bf6}.introduce-section .price[data-v-75a6d95b]{font-size:%?34?%}.introduce-section .m-price[data-v-75a6d95b]{margin:0 %?12?%;color:#999;text-decoration:line-through}.introduce-section .coupon-tip[data-v-75a6d95b]{-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?4?% %?10?%;background:#3b7bf6;font-size:%?24?%;color:#fff;border-radius:%?6?%;line-height:1;-webkit-transform:translateY(%?-4?%);transform:translateY(%?-4?%)}.introduce-section .bot-row[data-v-75a6d95b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?50?%;font-size:%?24?%;color:#999}.introduce-section .bot-row uni-text[data-v-75a6d95b]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.c-list[data-v-75a6d95b]{font-size:%?26?%;color:#3b7bf6;background:#fff}.c-list .c-row[data-v-75a6d95b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?20?% %?30?%;position:relative}.c-list .tit[data-v-75a6d95b]{width:%?140?%}.c-list .con[data-v-75a6d95b]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#333}.c-list .con .selected-text[data-v-75a6d95b]{margin-right:%?10?%}.c-list .bz-list[data-v-75a6d95b]{height:%?40?%;font-size:%?26?%;color:#333}.c-list .bz-list uni-text[data-v-75a6d95b]{display:inline-block;margin-right:%?30?%}.c-list .con-list[data-v-75a6d95b]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;color:#333;line-height:%?40?%}.c-list .red[data-v-75a6d95b]{color:#3b7bf6}\r\n/*  详情 */.detail-desc[data-v-75a6d95b]{background:#fff;margin-top:%?16?%}.detail-desc .d-header[data-v-75a6d95b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?80?%;font-size:%?30?%;color:#333;position:relative}.detail-desc .d-header uni-text[data-v-75a6d95b]{padding:0 %?20?%;background:#fff;position:relative;z-index:1}.detail-desc .d-header[data-v-75a6d95b]:after{position:absolute;left:50%;top:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:%?300?%;height:0;content:"";border-bottom:1px solid #ccc}.detail-desc img[data-v-75a6d95b]{width:100%}\r\n/* 底部操作菜单 */.page-bottom[data-v-75a6d95b]{position:fixed;left:%?30?%;bottom:%?30?%;z-index:95;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?690?%;height:%?100?%;background:hsla(0,0%,100%,.9);-webkit-box-shadow:0 0 %?20?% 0 rgba(0,0,0,.5);box-shadow:0 0 %?20?% 0 rgba(0,0,0,.5);border-radius:%?16?%}.page-bottom .p-b-btn[data-v-75a6d95b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?24?%;color:#3b7bf6;width:%?110?%;height:%?80?%}.page-bottom .p-b-btn .yticon[data-v-75a6d95b]{font-size:%?40?%;line-height:%?48?%;color:#999}.page-bottom .p-b-btn.active[data-v-75a6d95b], .page-bottom .p-b-btn.active .yticon[data-v-75a6d95b]{color:#3b7bf6}.page-bottom .p-b-btn .icon-fenxiang2[data-v-75a6d95b]{font-size:%?42?%;-webkit-transform:translateY(%?-2?%);transform:translateY(%?-2?%)}.page-bottom .p-b-btn .icon-shoucang[data-v-75a6d95b]{font-size:%?46?%}.page-bottom .action-btn-group[data-v-75a6d95b]{display:-webkit-box;display:-webkit-flex;display:flex;height:%?76?%;border-radius:100px;overflow:hidden;-webkit-box-shadow:0 %?20?% %?40?% %?-16?% #fa436a;box-shadow:0 %?20?% %?40?% %?-16?% #fa436a;-webkit-box-shadow:1px 2px 5px rgba(59,123,246,.4);box-shadow:1px 2px 5px rgba(59,123,246,.4);background:-webkit-gradient(linear,left top,right top,from(#9dbfff),color-stop(#377afa),to(#3b7bf6));background:-webkit-linear-gradient(left,#9dbfff,#377afa,#3b7bf6);background:linear-gradient(90deg,#9dbfff,#377afa,#3b7bf6);margin-left:%?20?%;position:relative}.page-bottom .action-btn-group[data-v-75a6d95b]:after{content:"";position:absolute;top:50%;right:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);height:%?28?%;width:0;border-right:1px solid hsla(0,0%,100%,.5)}.page-bottom .action-btn-group .action-btn[data-v-75a6d95b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?180?%;height:100%;font-size:%?28?%;margin:%?0?%;padding:0;border-radius:0;background:transparent}body.?%PAGE?%[data-v-75a6d95b]{background:#f8f8f8}',""]),e.exports=t},4266:function(e,t,i){"use strict";var a=i("4ea4");i("4160"),i("a15b"),i("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(i("b85c"));i("96cf");var n=a(i("1da1")),o=a(i("b27a")),c={components:{prductSpec:o.default},data:function(){return{baseUrl:this.config.baseUrl,purchaseType:0,specClass:"none",specSelected:[],byType:"",imgList:[],desc:"",specList:[],specChildList:[],selectGoods:{},selectGoodsPrice:"0.00",selectGoodsNumber:0,specGoodsImg:""}},onLoad:function(e){var t=this;return(0,n.default)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if("undefined"!=typeof e.purchaseType){i.next=3;break}return uni.showModal({title:"提示",content:"进货类型错误.",showCancel:!1,success:function(e){e.confirm&&uni.navigateTo({url:"/pagesB/channel/product/selectAdd"})}}),i.abrupt("return",!1);case 3:t.purchaseType=e.purchaseType,t.$u.post("channel/api.goods/getGoodsInfo",{goods_id:e.goods_id,purchaseType:t.purchaseType}).then((function(e){t.selectGoods=e.data,t.imgList=e.data.imgList,t.desc=e.data.m_goods_desc,0==t.selectGoods.is_spec?(t.specGoodsImg=t.config.baseUrl+e.data.goods_thumb,t.selectGoodsPrice=e.data.price,t.selectGoodsNumber=e.data.goods_number):(t.specList=e.data.specList,t.specChildList=e.data.specChildList,t.specSelected=[],t.specList.forEach((function(e){var i,a=(0,s.default)(t.specChildList);try{for(a.s();!(i=a.n()).done;){var n=i.value;if(n.pid===e.id){t.$set(n,"selected",!0),t.specSelected.push(n);break}}}catch(o){a.e(o)}finally{a.f()}})),console.log(t.specChildList),t.showSelectSpec())}));case 5:case"end":return i.stop()}}),i)})))()},methods:{toggleSpec:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"byCart";"show"===this.specClass?(this.specClass="hide",setTimeout((function(){e.specClass="none"}),250)):"none"===this.specClass&&(this.specClass="show"),this.byType=t},selectSpec:function(e){var t=this;this.specSelected=[],e.forEach((function(e){!0===e.selected&&t.specSelected.push(e)})),this.showSelectSpec()},showSelectSpec:function(){var e=this,t=[];this.specSelected.forEach((function(e){t.push(e.id)}));var i=t.join(":");if(this.selectGoods.sub_goods.forEach((function(t){if(i==t.sku_val)return e.selectGoodsPrice=t.price,e.selectGoodsNumber=t.goods_number,!1})),this.specGoodsImg=this.config.baseUrl+this.selectGoods.goods_thumb,t.length<1)return!1;var a=[];this.specList.forEach((function(e,i){2==e.img_type&&a.push(t[i])}));var s=a.join(":");this.selectGoods.imgSkuList.forEach((function(t){if(s==t.sku_val)return e.selectGoodsImg=e.config.baseUrl+t.goods_thumb,!1}))},navToCartPage:function(){var e=this.purchaseType;uni.navigateTo({url:"/pagesB/channel/flow/cart?purchaseType=".concat(e)})},stopPrevent:function(){}}};t.default=c},"5fea":function(e,t,i){var a=i("3824");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var s=i("4f06").default;s("025c4671",a,!0,{sourceMap:!1,shadowMode:!1})},ad46:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}));var a={uIcon:i("c688").default},s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"page-body"},[i("v-uni-view",{staticClass:"carousel"},[i("v-uni-swiper",{attrs:{"indicator-dots":!0,circular:"true",duration:"400"}},e._l(e.imgList,(function(t,a){return i("v-uni-swiper-item",{key:a,staticClass:"swiper-item"},[i("v-uni-view",{staticClass:"image-wrapper"},[i("v-uni-image",{staticClass:"loaded",attrs:{src:e.baseUrl+t.goods_img,mode:"aspectFill"}})],1)],1)})),1)],1),i("v-uni-view",{staticClass:"introduce-section"},[i("v-uni-text",{staticClass:"title"},[e._v(e._s(e.selectGoods.goods_name))]),i("v-uni-view",{staticClass:"price-box"},[i("v-uni-text",{staticClass:"price-tip"},[e._v("¥")]),i("v-uni-text",{staticClass:"price"},[e._v(e._s(e.selectGoodsPrice))])],1),i("v-uni-view",{staticClass:"bot-row"},[i("v-uni-text",[e._v("库存: "+e._s(e.selectGoodsNumber))])],1)],1),1==e.selectGoods.is_spec?i("v-uni-view",{staticClass:"c-list"},[i("v-uni-view",{staticClass:"c-row b-b fs30",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleSpec("byCart")}}},[i("v-uni-text",{staticClass:"tit"},[e._v("选择规格")]),i("v-uni-view",{staticClass:"con"},e._l(e.specSelected,(function(t,a){return i("v-uni-text",{key:a,staticClass:"selected-text"},[e._v(e._s(t.name))])})),1),i("v-uni-text",{staticClass:"yticon icon-you"})],1)],1):e._e(),i("v-uni-view",{staticClass:"detail-desc"},[i("v-uni-view",{staticClass:"d-header"},[i("v-uni-text",[e._v("图文详情")])],1),i("v-uni-rich-text",{attrs:{nodes:e.desc}})],1),i("v-uni-view",{staticClass:"page-bottom"},[i("v-uni-view",{staticClass:"p-b-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.app.goPage("/pagesB/channel/center/index")}}},[i("u-icon",{attrs:{name:"home",size:"50rpx"}}),i("v-uni-text",[e._v("首页")])],1),i("v-uni-view",{staticClass:"p-b-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.navToCartPage()}}},[i("u-icon",{attrs:{name:"shopping-cart",size:"50rpx"}}),i("v-uni-text",[e._v("购物车")])],1),i("v-uni-view",{staticClass:"action-btn-group"},[i("v-uni-button",{staticClass:" action-btn  buy-now-btn",attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleSpec("byBuy")}}},[e._v("立即购买")]),i("v-uni-button",{staticClass:" action-btn  add-cart-btn",attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleSpec("byCart")}}},[e._v("加入购物车")])],1)],1),i("prductSpec",{attrs:{specClass:e.specClass,specSelected:e.specSelected,selectGoods:e.selectGoods,selectGoodsPrice:e.selectGoodsPrice,selectGoodsNumber:e.selectGoodsNumber,specGoodsImg:e.specGoodsImg,specList:e.specList,specChildList:e.specChildList,purchaseType:e.purchaseType,byType:e.byType},on:{selectSpec:function(t){arguments[0]=t=e.$handleEvent(t),e.selectSpec.apply(void 0,arguments)},toggleSpec:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleSpec.apply(void 0,arguments)}}})],1)},n=[]},d48c:function(e,t,i){"use strict";var a=i("5fea"),s=i.n(a);s.a},d527:function(e,t,i){"use strict";i.r(t);var a=i("ad46"),s=i("29e7b");for(var n in s)"default"!==n&&function(e){i.d(t,e,(function(){return s[e]}))}(n);i("d48c");var o,c=i("f0c5"),r=Object(c["a"])(s["default"],a["b"],a["c"],!1,null,"75a6d95b",null,!1,a["a"],o);t["default"]=r.exports}}]);