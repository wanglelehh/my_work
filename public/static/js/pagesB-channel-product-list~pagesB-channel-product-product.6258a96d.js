(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesB-channel-product-list~pagesB-channel-product-product"],{"06c5":function(t,e,i){"use strict";i("a630"),i("fb6a"),i("d3b7"),i("25f0"),i("3ca3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=a(i("6b75"));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(t){if("string"===typeof t)return(0,n.default)(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?(0,n.default)(t,e):void 0}}},"2fb6":function(t,e,i){"use strict";i.r(e);var n=i("ccef"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},3040:function(t,e,i){var n=i("7eab");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("3811df70",n,!0,{sourceMap:!1,shadowMode:!1})},"37ea":function(t,e,i){"use strict";var n=i("3040"),a=i.n(n);a.a},"428e":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var n={uIcon:i("c688").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"u-numberbox"},[i("v-uni-view",{staticClass:"u-icon-minus",class:{"u-icon-disabled":t.disabled||t.inputVal<=t.min},style:{background:t.bgColor,height:t.inputHeight+"rpx",color:t.color},on:{touchstart:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.btnTouchStart("minus")},touchend:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.clearTimer.apply(void 0,arguments)}}},[i("u-icon",{attrs:{name:"minus",size:t.size}})],1),i("v-uni-input",{staticClass:"u-number-input",class:{"u-input-disabled":t.disabled},style:{color:t.color,fontSize:t.size+"rpx",background:t.bgColor,height:t.inputHeight+"rpx",width:t.inputWidth+"rpx"},attrs:{disabled:t.disabledInput||t.disabled,"cursor-spacing":t.getCursorSpacing,type:"number"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.onBlur.apply(void 0,arguments)}},model:{value:t.inputVal,callback:function(e){t.inputVal=e},expression:"inputVal"}}),i("v-uni-view",{staticClass:"u-icon-plus",class:{"u-icon-disabled":t.disabled||t.inputVal>=t.max},style:{background:t.bgColor,height:t.inputHeight+"rpx",color:t.color},on:{touchstart:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.btnTouchStart("plus")},touchend:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.clearTimer.apply(void 0,arguments)}}},[i("u-icon",{attrs:{name:"plus",size:t.size}})],1)],1)},s=[]},"5ae8":function(t,e,i){"use strict";i("a9e3"),i("b680"),i("d3b7"),i("ac1f"),i("25f0"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"u-number-box",props:{value:{type:Number,default:1},bgColor:{type:String,default:"#F2F3F5"},min:{type:Number,default:0},max:{type:Number,default:99999},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},size:{type:[Number,String],default:26},color:{type:String,default:"#323233"},inputWidth:{type:[Number,String],default:80},inputHeight:{type:[Number,String],default:50},index:{type:[Number,String],default:""},disabledInput:{type:Boolean,default:!1},cursorSpacing:{type:[Number,String],default:100},longPress:{type:Boolean,default:!0},pressTime:{type:[Number,String],default:250}},watch:{value:function(t,e){Number(t)!=this.inputVal&&(this.inputVal=Number(t))},inputVal:function(t,e){var i=this;if(""!=t){var n=0,a=this.$u.test.number(t);n=a&&t>=this.min&&t<=this.max?t:e,this.handleChange(n,"change"),this.$nextTick((function(){i.inputVal=t}))}}},data:function(){return{inputVal:1,timer:null}},created:function(){this.inputVal=Number(this.value)},computed:{getCursorSpacing:function(){return Number(uni.upx2px(this.cursorSpacing))}},methods:{btnTouchStart:function(t){var e=this;this[t](),this.longPress&&(clearInterval(this.timer),this.timer=null,this.timer=setInterval((function(){e[t]()}),this.pressTime))},clearTimer:function(){var t=this;this.$nextTick((function(){clearInterval(t.timer),t.timer=null}))},minus:function(){this.computeVal("minus")},plus:function(){this.computeVal("plus")},calcPlus:function(t,e){var i,n,a;try{n=t.toString().split(".")[1].length}catch(r){n=0}try{a=e.toString().split(".")[1].length}catch(r){a=0}i=Math.pow(10,Math.max(n,a));var s=n>=a?n:a;return((t*i+e*i)/i).toFixed(s)},calcMinus:function(t,e){var i,n,a;try{n=t.toString().split(".")[1].length}catch(r){n=0}try{a=e.toString().split(".")[1].length}catch(r){a=0}i=Math.pow(10,Math.max(n,a));var s=n>=a?n:a;return((t*i-e*i)/i).toFixed(s)},computeVal:function(t){if(uni.hideKeyboard(),!this.disabled){var e=0;"minus"===t?e=this.calcMinus(this.inputVal,this.step):"plus"===t&&(e=this.calcPlus(this.inputVal,this.step)),e<this.min||e>this.max||(this.inputVal=e,this.handleChange(e,t))}},onBlur:function(t){var e=this,i=0,n=t.detail.value;/(^\d+$)/.test(n)&&0!=n[0]||(i=this.min),i=+n,i>this.max?i=this.max:i<this.min&&(i=this.min),this.$nextTick((function(){e.inputVal=i})),this.handleChange(i,"blur")},handleChange:function(t,e){this.disabled||(this.$emit("input",Number(t)),this.$emit(e,{value:Number(t),index:this.index}))}}};e.default=n},6049:function(t,e,i){var n=i("846c");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("4e60ea8a",n,!0,{sourceMap:!1,shadowMode:!1})},"6b75":function(t,e,i){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"72b3":function(t,e,i){"use strict";i.r(e);var n=i("5ae8"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"7eab":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */\r\n/*文字颜色*/\r\n/* 规格选择弹窗 */.attr-content[data-v-d6bf51ae]{padding:%?10?% %?30?%}.attr-content .close[data-v-d6bf51ae]{position:absolute;top:%?20?%;right:%?20?%}.attr-content .a-t[data-v-d6bf51ae]{display:-webkit-box;display:-webkit-flex;display:flex}.attr-content .a-t uni-image[data-v-d6bf51ae]{width:%?170?%;height:%?170?%;-webkit-flex-shrink:0;flex-shrink:0;margin-top:%?-40?%;border-radius:%?8?%}.attr-content .a-t .right[data-v-d6bf51ae]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;padding-left:%?24?%;font-size:%?26?%;color:#333;line-height:%?42?%}.attr-content .a-t .right .price[data-v-d6bf51ae]{font-size:%?32?%;color:#3b7bf6;margin-bottom:%?10?%}.attr-content .a-t .right .selected-text[data-v-d6bf51ae]{margin-right:%?10?%}.attr-content .attr-list[data-v-d6bf51ae]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;font-size:%?30?%;color:#3b7bf6;padding-top:%?30?%;padding-left:%?10?%}.attr-content .item-list[data-v-d6bf51ae]{padding:%?20?% 0 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap}.attr-content .item-list uni-text[data-v-d6bf51ae]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;background:#eee;margin-right:%?20?%;margin-bottom:%?20?%;border-radius:%?100?%;min-width:%?60?%;height:%?60?%;padding:0 %?20?%;font-size:%?28?%;color:#333}.attr-content .item-list .color_cc[data-v-d6bf51ae]{color:#ccc}.attr-content .item-list .display_none[data-v-d6bf51ae]{display:none}.attr-content .item-list .selected[data-v-d6bf51ae]{background:#eaf0fb;color:#3b7bf6}',""]),t.exports=e},"846c":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */\r\n/*文字颜色*/.u-numberbox[data-v-5323c6bf]{display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.u-number-input[data-v-5323c6bf]{position:relative;text-align:center;padding:0;margin:0 %?6?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.u-icon-plus[data-v-5323c6bf],\r\n.u-icon-minus[data-v-5323c6bf]{width:%?60?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.u-icon-plus[data-v-5323c6bf]{border-radius:0 %?8?% %?8?% 0}.u-icon-minus[data-v-5323c6bf]{border-radius:%?8?% 0 0 %?8?%}.u-icon-disabled[data-v-5323c6bf]{color:#c8c9cc!important;background:#f7f8fa!important}.u-input-disabled[data-v-5323c6bf]{color:#c8c9cc!important;background-color:#f2f3f5!important}',""]),t.exports=e},"8ba8":function(t,e,i){"use strict";var n=i("6049"),a=i.n(n);a.a},b27a:function(t,e,i){"use strict";i.r(e);var n=i("d9b2"),a=i("2fb6");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("37ea");var r,o=i("f0c5"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"d6bf51ae",null,!1,n["a"],r);e["default"]=c.exports},b85c:function(t,e,i){"use strict";i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=a(i("06c5"));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=(0,n.default)(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,s=function(){};return{s:s,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,c=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){c=!0,r=t},f:function(){try{o||null==i["return"]||i["return"]()}finally{if(c)throw r}}}}},ccef:function(t,e,i){"use strict";i("4160"),i("c975"),i("a15b"),i("a434"),i("a9e3"),i("e25e"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"prductSpec",props:{purchaseType:{type:String,default:"0"},byType:{type:String,default:"byCart"},specClass:{type:String,default:"none"},selectGoodsPrice:{type:String,default:"0.00"},selectGoodsNumber:{type:Number,default:"0"},selectGoods:{type:Object,default:function(){return{}}},specGoodsImg:{type:String,default:""},specSelected:{type:Array,default:function(){return[]}},specList:{type:Array,default:function(){return[]}},specChildList:{type:Array,default:function(){return[]}}},data:function(){return{buyNumber:1,selUnit:0,isLoading:!1}},methods:{specGetStyle:function(t,e,i){var n=[],a=[],s={};s=this.selectGoods.skuTotal,1==t.selected&&n.push("selected"),this.specSelected.forEach((function(t,i){i<e&&a.push(t.id)}));var r=a.push(t.id),o=a.join("_");if("undefined"!=typeof s[o])s[o].goods_number<1&&n.push("color_cc");else{var c=!1;if(this.selectGoods.skuValList.forEach((function(t,e){t+=":";var i=0;if(a.forEach((function(e,n){t.indexOf(e+":")>=0&&i++})),r==i)return c=!0,!1})),0==c){n.push("display_none"),this.specChildList[t.index].selected=!1;var u=this.specSelected;u.forEach((function(e,i){e.id==t.id&&u.splice(i,100)}))}}return n},toggleSpec:function(){this.selUnit=0,this.$emit("toggleSpec")},selectSpec:function(t,e,i){var n=this;if(t>this.specSelected.length){var a=this.specList[this.specSelected.length].name;return uni.showToast({title:"请先选择："+a,duration:2e3,icon:"none"}),!1}var s=this.specChildList;s.forEach((function(t){t.pid===i&&n.$set(t,"selected",!1)})),this.$set(s[e],"selected",!0),this.$emit("selectSpec",s)},selectUnit:function(t){this.selUnit=parseInt(t)},buyBtn:function(){var t=this;if(1==this.isLoading)return!1;this.isLoading=!0;var e={};if(e.purchaseType=this.purchaseType,e.goods_id=this.selectGoods.goods_id,e.sku_id=0,1==this.selectGoods.is_spec){var i=[];this.specSelected.forEach((function(t){i.push(t.id)})),i=i.join(":"),this.selectGoods.sub_goods.forEach((function(t){i==t.sku_val&&(e.sku_id=t.sku_id)}))}e.buyNumber=this.buyNumber,e.buyUnit=0==this.selUnit?this.selectGoods.unit:this.selUnit;var n=this;this.$u.post("channel/api.flow/addCart",e).then((function(e){setTimeout((function(){n.isLoading=!1}),1e3),"byBuy"==t.byType?t.app.goPage("/pagesB/channel/flow/checkOut?purchaseType="+t.purchaseType+"&rec_id="+e.data.rec_id):uni.showToast({title:e.msg,duration:2e3,icon:"none"})})).catch((function(e){t.isLoading=!1}))},stopPrevent:function(){}}};e.default=n},d9b2:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var n={uIcon:i("c688").default,uNumberBox:i("f5ff").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"popup spec",class:t.specClass,on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.stopPrevent.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggleSpec.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"mask"}),i("v-uni-view",{staticClass:"layer attr-content",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.stopPrevent.apply(void 0,arguments)}}},[i("u-icon",{staticClass:"close",attrs:{name:"close",size:"28"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggleSpec.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"a-t"},[i("v-uni-image",{attrs:{src:t.specGoodsImg,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"right"},[i("v-uni-text",{staticClass:"price"},[t._v("¥"+t._s(t.selectGoodsPrice))]),i("v-uni-text",{staticClass:"stock"},[t._v("供货商库存："+t._s(t.selectGoodsNumber)+"件")]),t.specSelected.length?i("v-uni-view",{staticClass:"selected"},[t._v("已选："),t._l(t.specSelected,(function(e,n){return i("v-uni-text",{key:n,staticClass:"selected-text"},[t._v(t._s(e.name))])}))],2):t._e()],1)],1),t._l(t.specList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"attr-list"},[i("v-uni-text",[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"item-list"},t._l(t.specChildList,(function(a,s){return a.pid===e.id?i("v-uni-text",{key:s,staticClass:"tit",class:[t.specGetStyle(a,n)],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectSpec(n,s,a.pid)}}},[t._v(t._s(a.name))]):t._e()})),1)],1)})),t.selectGoods.unit?i("v-uni-view",{staticClass:"attr-list unit-list"},[i("v-uni-text",[t._v("单位")]),i("v-uni-view",{staticClass:"item-list"},[i("v-uni-text",{staticClass:"tit",class:{selected:t.selectGoods.unit==t.selUnit||0==t.selUnit},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectUnit(t.selectGoods.unit)}}},[t._v(t._s(t.selectGoods.unitLits[t.selectGoods.unit].name))]),t._l(t.selectGoods.convert_unit,(function(e,n){return i("v-uni-text",{key:n,staticClass:"tit",class:{selected:n==t.selUnit},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectUnit(n)}}},[t._v(t._s(t.selectGoods.unitLits[n].name)+"/"+t._s(e)+t._s(t.selectGoods.unitLits[t.selectGoods.unit].name))])}))],2)],1):t._e(),i("v-uni-view",{staticClass:"mt20"},[t._v("购买数量："),i("u-number-box",{attrs:{min:1,step:1,disabled:!1},model:{value:t.buyNumber,callback:function(e){t.buyNumber=e},expression:"buyNumber"}})],1),i("v-uni-button",{staticClass:"btn primarybtn",attrs:{loading:t.isLoading},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buyBtn.apply(void 0,arguments)}}},[t._v(t._s("byCart"==t.byType?"加入购物车":"立即购买")),t.selectGoodsNumber<1?i("v-uni-text",{staticStyle:{"margin-left":"10rpx",color:"#ccc"}},[t._v("- 库存不足")]):t._e()],1)],2)],1)},s=[]},f5ff:function(t,e,i){"use strict";i.r(e);var n=i("428e"),a=i("72b3");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("8ba8");var r,o=i("f0c5"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"5323c6bf",null,!1,n["a"],r);e["default"]=c.exports}}]);