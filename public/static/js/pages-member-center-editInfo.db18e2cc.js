(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-center-editInfo"],{"02cb":function(e,t,i){"use strict";i.r(t);var a=i("8e4d"),n=i("855f");for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);i("e97c");var o,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"0f962e5c",null,!1,a["a"],o);t["default"]=l.exports},"1b49":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a}));var a={uForm:i("822d").default,uImage:i("90d0").default,uIcon:i("c688").default,uFormItem:i("e728").default,uInput:i("aee4").default,uActionSheet:i("02cb").default,uPicker:i("a476").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"page-body",class:[e.app.setCStyle(e.from)]},[i("u-form",{ref:"uForm",staticClass:"edit-from",attrs:{model:e.model,errorType:e.errorType}},[i("v-uni-view",{staticClass:"list-cell  mt20 mlr20 br20 headimgurl",attrs:{"hover-class":"cell-hover","hover-stay-time":50}},[i("v-uni-text",{staticClass:"cell-tit"},[e._v(e._s(e.app.langReplace("头像")))]),i("v-uni-view",{staticClass:"fr fs32 relative"},[i("v-uni-view",{staticClass:"image"},[i("u-image",{ref:"uImage",attrs:{width:"120rpx",height:"120rpx",mode:"aspectFill",src:e.model.headimgurl?e.model.headimgurl:"/static/public/images/headimgurl.jpg",shape:"circle"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseAvatar.apply(void 0,arguments)}}})],1),i("u-icon",{attrs:{name:"arrow-right",size:"20"}})],1)],1),i("v-uni-view",{staticClass:"list-cell mt20 mlr20 br20",attrs:{"hover-class":"cell-hover","hover-stay-time":50}},[i("v-uni-text",{staticClass:"cell-tit"},[e._v(e._s(e.app.langReplace("真实姓名")))]),i("u-form-item",{attrs:{prop:"real_name"}},[i("u-input",{staticClass:"text-right",attrs:{border:e.border,clearable:!1,type:"text"},model:{value:e.model.real_name,callback:function(t){e.$set(e.model,"real_name",t)},expression:"model.real_name"}})],1),i("v-uni-view",{staticClass:"fr fs32"},[i("u-icon",{attrs:{name:"arrow-right",size:"20"}})],1)],1),i("v-uni-view",{staticClass:"list-cell mt20 mlr20 br20",attrs:{"hover-class":"cell-hover","hover-stay-time":50}},[i("v-uni-text",{staticClass:"cell-tit"},[e._v(e._s(e.app.langReplace("昵称")))]),i("u-form-item",{attrs:{prop:"nick_name"}},[i("u-input",{staticClass:"text-right",attrs:{border:e.border,clearable:!1,type:"text"},model:{value:e.model.nick_name,callback:function(t){e.$set(e.model,"nick_name",t)},expression:"model.nick_name"}})],1),i("v-uni-view",{staticClass:"fr fs32"},[i("u-icon",{attrs:{name:"arrow-right ml20",size:"20"}})],1)],1),i("v-uni-view",{staticClass:"list-cell mt20 mlr20 br20",attrs:{"hover-class":"cell-hover","hover-stay-time":50},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sexListShow=!0}}},[i("v-uni-text",{staticClass:"cell-tit"},[e._v(e._s(e.app.langReplace("性别")))]),i("v-uni-view",{staticClass:"fr  fs30"},[e._v(e._s(e.model.sex_text)),i("u-icon",{attrs:{name:"arrow-right ml20",size:"20"}})],1)],1),i("u-action-sheet",{attrs:{list:e.sexList,"cancel-btn":!1},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectSex.apply(void 0,arguments)}},model:{value:e.sexListShow,callback:function(t){e.sexListShow=t},expression:"sexListShow"}}),i("v-uni-view",{staticClass:"list-cell mt20 mlr20 br20",attrs:{"hover-class":"cell-hover","hover-stay-time":50},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showRegion=!0}}},[i("v-uni-text",{staticClass:"cell-tit"},[e._v(e._s(e.app.langReplace("所在地区")))]),i("v-uni-view",{staticClass:"fr  fs30"},[e._v(e._s(e.defaultRegionText)),i("u-icon",{attrs:{name:"arrow-right ml20",size:"20"}})],1)],1),i("u-picker",{attrs:{mode:"region","area-code":e.model.region_code},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirmRegion.apply(void 0,arguments)}},model:{value:e.showRegion,callback:function(t){e.showRegion=t},expression:"showRegion"}}),i("v-uni-view",{staticClass:"pbox mt40"},[i("v-uni-button",{staticClass:"primarybtn",attrs:{size:"default",loading:e.isLoading,shape:"circle",type:"warning"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v(e._s(e.app.langReplace("确认修改")))])],1)],1)],1)},r=[]},"2f7a":function(e,t,i){var a=i("854e");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("f461dbf2",a,!0,{sourceMap:!1,shadowMode:!1})},"51c8":function(e,t,i){"use strict";var a=i("bb4a"),n=i.n(a);n.a},"58e0":function(e,t,i){"use strict";i.r(t);var a=i("e579"),n=i.n(a);for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t["default"]=n.a},"81c9":function(e,t,i){"use strict";i.r(t);var a=i("a40e"),n=i.n(a);for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t["default"]=n.a},"854e":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */\r\n/*文字颜色*/.u-tips[data-v-0f962e5c]{font-size:%?26?%;text-align:center;padding:%?34?% 0;line-height:1;color:#909399}.u-action-sheet-item[data-v-0f962e5c]{display:-webkit-box;display:-webkit-flex;display:flex;line-height:1;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?34?%;padding:%?34?% 0}.u-gab[data-v-0f962e5c]{height:%?12?%;background-color:#eaeaec}.u-actionsheet-cancel[data-v-0f962e5c]{color:#303133}',""]),e.exports=t},"855f":function(e,t,i){"use strict";i.r(t);var a=i("c442"),n=i.n(a);for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t["default"]=n.a},"8e4d":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a}));var a={uPopup:i("4758").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("u-popup",{attrs:{mode:"bottom","border-radius":e.borderRadius,popup:!1,maskCloseAble:e.maskCloseAble,length:"auto",safeAreaInsetBottom:e.safeAreaInsetBottom,"z-index":e.uZIndex},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.popupClose.apply(void 0,arguments)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[e.tips.text?i("v-uni-view",{staticClass:"u-tips u-border-bottom",style:[e.tipsStyle]},[e._v(e._s(e.tips.text))]):e._e(),e._l(e.list,(function(t,a){return[i("v-uni-view",{key:a+"_0",staticClass:"u-action-sheet-item",class:[a<e.list.length-1?"u-border-bottom":""],style:[e.itemStyle(a)],attrs:{"hover-class":"u-hover-class","hover-stay-time":150},on:{touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t)},click:function(t){arguments[0]=t=e.$handleEvent(t),e.itemClick(a)}}},[e._v(e._s(t.text))])]})),e.cancelBtn?i("v-uni-view",{staticClass:"u-gab"}):e._e(),e.cancelBtn?i("v-uni-view",{staticClass:"u-actionsheet-cancel u-action-sheet-item",attrs:{"hover-class":"u-hover-class","hover-stay-time":150},on:{touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t)},click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[e._v(e._s(e.cancelText))]):e._e()],2)},r=[]},"90d0":function(e,t,i){"use strict";i.r(t);var a=i("e9f8"),n=i("81c9");for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);i("51c8");var o,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"4d0290e0",null,!1,a["a"],o);t["default"]=l.exports},"98fa":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */\r\n/*文字颜色*/.u-image[data-v-4d0290e0]{background-color:#f3f4f6;position:relative;-webkit-transition:opacity .5s ease-in-out;transition:opacity .5s ease-in-out}.u-image__image[data-v-4d0290e0]{width:100%;height:100%}.u-image__loading[data-v-4d0290e0], .u-image__error[data-v-4d0290e0]{position:absolute;top:0;left:0;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;background-color:#f3f4f6;color:#909399;font-size:%?46?%}',""]),e.exports=t},a40e:function(e,t,i){"use strict";i("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"auto"},shape:{type:String,default:"square"},borderRadius:{type:[String,Number],default:0},lazyLoad:{type:Boolean,default:!0},showMenuByLongpress:{type:Boolean,default:!0},loadingIcon:{type:String,default:"photo"},errorIcon:{type:String,default:"error-circle"},showLoading:{type:Boolean,default:!0},showError:{type:Boolean,default:!0},fade:{type:Boolean,default:!0},webp:{type:Boolean,default:!1},duration:{type:[String,Number],default:500}},data:function(){return{isError:!1,loading:!0,opacity:1,durationTime:this.duration,backgroundStyle:{}}},computed:{wrapStyle:function(){var e={};return e.width=this.$u.addUnit(this.width),e.height=this.$u.addUnit(this.height),e.borderRadius="circle"==this.shape?"50%":this.$u.addUnit(this.borderRadius),e.overflow=this.borderRadius>0?"hidden":"visible",this.fade&&(e.opacity=this.opacity,e.transition="opacity ".concat(Number(this.durationTime)/1e3,"s ease-in-out")),e}},methods:{onClick:function(){this.$emit("click")},onErrorHandler:function(){this.loading=!1,this.isError=!0,this.$emit("error")},onLoadHandler:function(){var e=this;if(this.loading=!1,this.isError=!1,this.$emit("load"),!this.fade)return this.removeBgColor();this.opacity=0,this.durationTime=0,setTimeout((function(){e.durationTime=e.duration,e.opacity=1,setTimeout((function(){e.removeBgColor()}),e.durationTime)}),50)},removeBgColor:function(){this.backgroundStyle={backgroundColor:"transparent"}}}};t.default=a},bb4a:function(e,t,i){var a=i("98fa");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("f9c0ac3c",a,!0,{sourceMap:!1,shadowMode:!1})},c442:function(e,t,i){"use strict";i("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"u-action-sheet",props:{maskCloseAble:{type:Boolean,default:!0},list:{type:Array,default:function(){return[]}},tips:{type:Object,default:function(){return{text:"",color:"",fontSize:"26"}}},cancelBtn:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!1},value:{type:Boolean,default:!1},borderRadius:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:0},cancelText:{type:String,default:"取消"}},computed:{tipsStyle:function(){var e={};return this.tips.color&&(e.color=this.tips.color),this.tips.fontSize&&(e.fontSize=this.tips.fontSize+"rpx"),e},itemStyle:function(){var e=this;return function(t){var i={};return e.list[t].color&&(i.color=e.list[t].color),e.list[t].fontSize&&(i.fontSize=e.list[t].fontSize+"rpx"),i}},uZIndex:function(){return this.zIndex?this.zIndex:this.$u.zIndex.popup}},methods:{close:function(){this.popupClose(),this.$emit("close")},popupClose:function(){this.$emit("input",!1)},itemClick:function(e){this.$emit("click",e),this.$emit("input",!1)}}};t.default=a},ca0c:function(e,t,i){"use strict";i.r(t);var a=i("1b49"),n=i("58e0");for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);var o,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"0f69dbee",null,!1,a["a"],o);t["default"]=l.exports},e579:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{from:"",isLoading:!1,model:{headimgurl:"",edit_headimgurl:0,nick_name:"",real_name:"",sex:0,sex_text:this.app.langReplace("不公开"),region_code:[]},sexListShow:!1,sexList:[{text:this.app.langReplace("不公开"),id:0},{text:this.app.langReplace("男"),id:1},{text:this.app.langReplace("女"),id:2}],defaultRegionText:"",showRegion:!1,rules:{real_name:[{required:!0,message:this.app.langReplace("请输入真实姓名"),trigger:"blur"},{min:2,max:25,message:this.app.langReplace("姓名长度在2到25个字符"),trigger:["change","blur"]}]},nick_name:[{required:!0,message:this.app.langReplace("请输入")+" "+this.app.langReplace("昵称"),trigger:"blur"}],border:!1,errorType:["toast"]}},created:function(){var e=this;uni.$on("uAvatarCropper",(function(t){e.$refs.uImage.isError=!1,e.model.headimgurl=t,e.model.edit_headimgurl=1}))},onLoad:function(e){this.app.isLogin(this);var t=this.app.langReplace("基本资料");uni.setNavigationBarTitle({title:t}),this.getUserInfo(),this.from=e.from},computed:{},methods:{chooseAvatar:function(){this.$u.route({url:"/uview-ui/components/u-avatar-cropper/u-avatar-cropper",params:{destWidth:300,rectWidth:200,fileType:"jpg"}})},getUserInfo:function(){var e=this;this.$u.api.getUserInfo().then((function(t){var i=t.data;i.headimgurl&&(e.model.headimgurl=e.config.baseUrl+i.headimgurl),e.model.nick_name=i.nick_name,e.model.real_name=i.real_name,e.model.sex=i.sex,e.model.sex_text=e.sexList[i.sex].text,e.model.region_code=[i.province,i.city,i.district],e.defaultRegionText=i.region_text}))},preAvatar:function(){wx.previewImage({current:"",urls:[this.model.headimgurl]})},selectSex:function(e){var t=this.sexList[e];this.model.sex=t.id,this.model.sex_text=t.text},confirmRegion:function(e){this.defaultRegionText=e.province.label+","+e.city.label+","+e.area.label,this.model.region_code=[e.province.value,e.city.value,e.area.value]},submit:function(){var e=this,t=this;"channel"!=this.from&&delete this.rules.real_name,this.$refs.uForm.setRules(this.rules),this.$refs.uForm.validate((function(i){return!!i&&(1!=e.isLoading&&(e.isLoading=!0,e.model._from=e.from,void e.$u.post("member/api.users/editInfo",e.model).then((function(i){e.isLoading=!1,uni.showModal({title:e.app.langReplace("提示"),confirmText:e.app.langReplace("确认"),content:i.msg,showCancel:!1,success:function(e){t.model.edit_headimgurl=0,e.confirm&&t.getUserInfo()}})})).catch((function(t){e.isLoading=!1}))))}))}}};t.default=a},e97c:function(e,t,i){"use strict";var a=i("2f7a"),n=i.n(a);n.a},e9f8:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a}));var a={uIcon:i("c688").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"u-image",style:[e.wrapStyle,e.backgroundStyle],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick.apply(void 0,arguments)}}},[e.isError?e._e():i("v-uni-image",{staticClass:"u-image__image",style:{borderRadius:"circle"==e.shape?"50%":e.$u.addUnit(e.borderRadius)},attrs:{src:e.src,mode:e.mode,"lazy-load":e.lazyLoad},on:{error:function(t){arguments[0]=t=e.$handleEvent(t),e.onErrorHandler.apply(void 0,arguments)},load:function(t){arguments[0]=t=e.$handleEvent(t),e.onLoadHandler.apply(void 0,arguments)}}}),e.showLoading&&e.loading?i("v-uni-view",{staticClass:"u-image__loading",style:{borderRadius:"circle"==e.shape?"50%":e.$u.addUnit(e.borderRadius)}},[e.$slots.loading?e._t("loading"):i("u-icon",{attrs:{name:e.loadingIcon}})],2):e._e(),e.showError&&e.isError&&!e.loading?i("v-uni-view",{staticClass:"u-image__error",style:{borderRadius:"circle"==e.shape?"50%":e.$u.addUnit(e.borderRadius)}},[e.$slots.error?e._t("error"):i("u-icon",{attrs:{name:e.errorIcon}})],2):e._e()],1)},r=[]}}]);