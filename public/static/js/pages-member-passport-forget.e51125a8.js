(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-passport-forget"],{"14b0":function(e,t,i){"use strict";var n=i("4ea4");i("c975"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i("6f1c")),r={components:{copyright:a.default},data:function(){var e=this;return{verifyUrl:"",showVerify:!1,model:{mobile:"",code:"",password:""},rulesgetCode:{mobile:[{required:!0,message:this.app.langReplace("请输入手机号"),trigger:["change","blur"]},{validator:function(t,i,n){return e.$u.test.mobile(i)},message:this.app.langReplace("手机号码不正确"),trigger:["change","blur"]}]},rules:{mobile:[{required:!0,message:this.app.langReplace("请输入手机号"),trigger:["change","blur"]},{validator:function(t,i,n){return e.$u.test.mobile(i)},message:this.app.langReplace("手机号码不正确"),trigger:["change","blur"]}],code:[{min:6,required:!0,message:this.app.langReplace("请输入6位验证码"),trigger:["change","blur"]},{type:"number",message:this.app.langReplace("验证码只能为数字"),trigger:["change","blur"]}],password:[{required:!0,message:this.app.langReplace("请输入密码"),trigger:["change","blur"]},{min:8,message:this.app.langReplace("密码不能少于8个字符"),trigger:"change"}],rePassword:[{required:!0,message:this.app.langReplace("请重新输入密码"),trigger:["change","blur"]},{validator:function(t,i,n){return i===e.model.password},message:this.app.langReplace("两次输入的密码不相等"),trigger:["change","blur"]}]},border:!1,check:!1,labelPosition:"left",codeTips:"",errorType:["toast"]}},onLoad:function(){this.model.mobile=uni.getStorageSync("loginMobile"),this.verifyUrl=this.config.baseUrl+"/index.php/publics/api.index/verify/session_id/"+uni.getStorageSync("session_id")},computed:{borderCurrent:function(){return this.border?0:1}},onReady:function(){},methods:{submit:function(){var e=this;this.$refs.uForm.setRules(this.rules),this.$refs.uForm.validate((function(t){if(!t)return!1;e.$u.get("member/api.passport/forgetPwd",e.model).then((function(t){if(t.code<0)return e.showVerify=t.data.showVerify,e.$u.toast(t.msg),e.changeVerifyUrl(),e.model.verifyCode="",!1;uni.showModal({title:e.app.langReplace("提示"),content:e.app.langReplace("密码已重置，请使用新密码登录"),confirmText:e.app.langReplace("确认"),showCancel:!1,success:function(e){e.confirm&&uni.navigateTo({url:"/pages/member/passport/login"})}})}))}))},codeChange:function(e){this.codeTips=this.app.langReplace(e)},changeVerifyUrl:function(){this.verifyUrl.indexOf("rand=")>-1&&(this.verifyUrl=this.verifyUrl.substr(0,this.verifyUrl.length-19)),this.verifyUrl+="?rand="+(new Date).getTime()},getCode:function(){var e=this;this.$refs.uCode.canGetCode?(this.$refs.uForm.setRules(this.rulesgetCode),this.$refs.uForm.validate((function(t){t&&(uni.showLoading({title:"正在获取验证码",mask:!0}),e.$u.get("publics/api.sms/sendCode",{type:"forget_password",mobile:e.model.mobile}).then((function(t){uni.hideLoading(),t.data.code?(e.$u.toast("测试状态，验证码自动填充"),e.model.code=t.data.code):e.$u.toast(e.app.langReplace("验证码已发送")),e.user_exist=t.data.user_exist,e.$refs.uCode.start()})))}))):this.$u.toast(this.app.langReplace("倒计时结束后再请求"))}}};t.default=r},"1b13":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"copyright",props:{},data:function(){return{setting:uni.getStorageSync("setting")}},computed:{},methods:{}};t.default=n},"1fe2":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return n}));var n={uForm:i("822d").default,uFormItem:i("e728").default,uInput:i("aee4").default,uImage:i("90d0").default,uVerificationCode:i("ebfa").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"page-body p50 pt100 bg-white",class:[e.app.setCStyle()]},[i("v-uni-text",{staticClass:"block fs42 font-w600 mt40"},[e._v(e._s(e.app.langReplace("找回密码")))]),i("v-uni-text",{staticClass:"block fs30 font-w600 mt20"},[e._v(e._s(e.app.langReplace("请按以下操作重置密码信息")))]),i("u-form",{ref:"uForm",staticClass:"mt60",attrs:{model:e.model,errorType:e.errorType}},[i("u-form-item",{attrs:{rightIconStyle:{color:"#888",fontSize:"32rpx"},"right-icon":"phone","label-position":e.labelPosition,label:e.app.langReplace("手机号码"),prop:"mobile","label-width":"150"}},[i("u-input",{attrs:{border:e.border,placeholder:e.app.langReplace("请输入手机号"),type:"number"},model:{value:e.model.mobile,callback:function(t){e.$set(e.model,"mobile",t)},expression:"model.mobile"}})],1),i("u-form-item",{attrs:{"label-position":e.labelPosition,label:e.app.langReplace("验证码"),prop:"code","label-width":"150"}},[i("u-input",{attrs:{border:e.border,placeholder:e.app.langReplace("请输入验证码"),type:"text"},model:{value:e.model.code,callback:function(t){e.$set(e.model,"code",t)},expression:"model.code"}}),i("v-uni-button",{staticClass:"bg-base color-ff",attrs:{slot:"right",type:"success",size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode.apply(void 0,arguments)}},slot:"right"},[e._v(e._s(e.codeTips))])],1),i("u-form-item",{attrs:{"label-position":e.labelPosition,label:e.app.langReplace("新密码"),prop:"password","label-width":"150"}},[i("u-input",{attrs:{"password-icon":!0,border:e.border,type:"password",placeholder:e.app.langReplace("请输入密码")},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1),i("u-form-item",{attrs:{"label-position":e.labelPosition,label:e.app.langReplace("确认密码"),"label-width":"150",prop:"rePassword"}},[i("u-input",{attrs:{border:e.border,type:"password",placeholder:e.app.langReplace("请再次输入密码")},model:{value:e.model.rePassword,callback:function(t){e.$set(e.model,"rePassword",t)},expression:"model.rePassword"}})],1),e.showVerify?i("u-form-item",{attrs:{"label-position":e.labelPosition,label:e.app.langReplace("图形验证码"),prop:"verifyCode","label-width":"150"}},[i("u-input",{attrs:{border:e.border,placeholder:e.app.langReplace("输入验证码"),type:"text"},model:{value:e.model.verifyCode,callback:function(t){e.$set(e.model,"verifyCode",t)},expression:"model.verifyCode"}}),i("u-image",{attrs:{width:"200rpx",height:"80rpx",src:e.verifyUrl},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeVerifyUrl.apply(void 0,arguments)}}})],1):e._e(),i("v-uni-button",{staticClass:"primarybtn mt40",attrs:{size:"default",shape:"circle",type:"warning"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v(e._s(e.app.langReplace("提交")))]),i("u-verification-code",{ref:"uCode",attrs:{seconds:"60"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.codeChange.apply(void 0,arguments)}}})],1),i("copyright")],1)},r=[]},"2e75":function(e,t,i){"use strict";var n=i("745d"),a=i.n(n);a.a},"3e0b":function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"u-code-wrap"})},r=[]},"4fd9":function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"copyright-box"},[e.setting.copyright?i("v-uni-view",[e._v(e._s(e.setting.copyright))]):e._e(),e.setting.ipc_no?i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.app.toOutLink("https://beian.miit.gov.cn/")}}},[e._v(e._s(e.setting.ipc_no))]):e._e(),e.setting.tel?i("v-uni-view",[e._v("联系电话："+e._s(e.setting.tel))]):e._e(),e.setting.address?i("v-uni-view",[e._v("联系地址："+e._s(e.setting.address))]):e._e()],1)},r=[]},5151:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */\r\n/*文字颜色*/.u-code-wrap[data-v-7412e1a8]{width:0;height:0;position:fixed;z-index:-1}',""]),e.exports=t},"51c8":function(e,t,i){"use strict";var n=i("bb4a"),a=i.n(n);a.a},"5a2e":function(e,t,i){"use strict";i.r(t);var n=i("db53"),a=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},6865:function(e,t,i){"use strict";i.r(t);var n=i("14b0"),a=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},"6f1c":function(e,t,i){"use strict";i.r(t);var n=i("4fd9"),a=i("f593");for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("2e75");var o,s=i("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"4deaaee5",null,!1,n["a"],o);t["default"]=u.exports},"6f30":function(e,t,i){var n=i("fd2b");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("75b9cff2",n,!0,{sourceMap:!1,shadowMode:!1})},"745d":function(e,t,i){var n=i("a051");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("78c78798",n,!0,{sourceMap:!1,shadowMode:!1})},"7a2d":function(e,t,i){"use strict";var n=i("bef7"),a=i.n(n);a.a},"81c9":function(e,t,i){"use strict";i.r(t);var n=i("a40e"),a=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},"90d0":function(e,t,i){"use strict";i.r(t);var n=i("e9f8"),a=i("81c9");for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("51c8");var o,s=i("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"4d0290e0",null,!1,n["a"],o);t["default"]=u.exports},"95d0":function(e,t,i){"use strict";i.r(t);var n=i("1fe2"),a=i("6865");for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("d5ba");var o,s=i("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"3bad0f47",null,!1,n["a"],o);t["default"]=u.exports},"98fa":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */\r\n/*文字颜色*/.u-image[data-v-4d0290e0]{background-color:#f3f4f6;position:relative;-webkit-transition:opacity .5s ease-in-out;transition:opacity .5s ease-in-out}.u-image__image[data-v-4d0290e0]{width:100%;height:100%}.u-image__loading[data-v-4d0290e0], .u-image__error[data-v-4d0290e0]{position:absolute;top:0;left:0;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;background-color:#f3f4f6;color:#909399;font-size:%?46?%}',""]),e.exports=t},a051:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */\r\n/*文字颜色*/.copyright-box[data-v-4deaaee5]{font-size:%?26?%;text-align:center;margin:%?80?% %?0?% %?40?% %?0?%;color:#ccc;line-height:%?50?%}',""]),e.exports=t},a40e:function(e,t,i){"use strict";i("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"auto"},shape:{type:String,default:"square"},borderRadius:{type:[String,Number],default:0},lazyLoad:{type:Boolean,default:!0},showMenuByLongpress:{type:Boolean,default:!0},loadingIcon:{type:String,default:"photo"},errorIcon:{type:String,default:"error-circle"},showLoading:{type:Boolean,default:!0},showError:{type:Boolean,default:!0},fade:{type:Boolean,default:!0},webp:{type:Boolean,default:!1},duration:{type:[String,Number],default:500}},data:function(){return{isError:!1,loading:!0,opacity:1,durationTime:this.duration,backgroundStyle:{}}},computed:{wrapStyle:function(){var e={};return e.width=this.$u.addUnit(this.width),e.height=this.$u.addUnit(this.height),e.borderRadius="circle"==this.shape?"50%":this.$u.addUnit(this.borderRadius),e.overflow=this.borderRadius>0?"hidden":"visible",this.fade&&(e.opacity=this.opacity,e.transition="opacity ".concat(Number(this.durationTime)/1e3,"s ease-in-out")),e}},methods:{onClick:function(){this.$emit("click")},onErrorHandler:function(){this.loading=!1,this.isError=!0,this.$emit("error")},onLoadHandler:function(){var e=this;if(this.loading=!1,this.isError=!1,this.$emit("load"),!this.fade)return this.removeBgColor();this.opacity=0,this.durationTime=0,setTimeout((function(){e.durationTime=e.duration,e.opacity=1,setTimeout((function(){e.removeBgColor()}),e.durationTime)}),50)},removeBgColor:function(){this.backgroundStyle={backgroundColor:"transparent"}}}};t.default=n},bb4a:function(e,t,i){var n=i("98fa");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("f9c0ac3c",n,!0,{sourceMap:!1,shadowMode:!1})},bef7:function(e,t,i){var n=i("5151");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("c4b741da",n,!0,{sourceMap:!1,shadowMode:!1})},d5ba:function(e,t,i){"use strict";var n=i("6f30"),a=i.n(n);a.a},db53:function(e,t,i){"use strict";i("a9e3"),i("ac1f"),i("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"u-verification-code",props:{seconds:{type:[String,Number],default:60},startText:{type:String,default:"获取验证码"},changeText:{type:String,default:"X秒重新获取"},endText:{type:String,default:"重新获取"},keepRunning:{type:Boolean,default:!1},uniqueKey:{type:String,default:""}},data:function(){return{secNum:this.seconds,timer:null,canGetCode:!0}},mounted:function(){this.checkKeepRunning()},watch:{seconds:{immediate:!0,handler:function(e){this.secNum=e}}},methods:{checkKeepRunning:function(){var e=Number(uni.getStorageSync(this.uniqueKey+"_$uCountDownTimestamp"));if(!e)return this.changeEvent(this.startText);var t=Math.floor(+new Date/1e3);this.keepRunning&&e&&e>t?(this.secNum=e-t,uni.removeStorageSync(this.uniqueKey+"_$uCountDownTimestamp"),this.start()):this.changeEvent(this.startText)},start:function(){var e=this;this.timer&&(clearInterval(this.timer),this.timer=null),this.$emit("start"),this.canGetCode=!1,this.changeEvent(this.changeText.replace(/x|X/,this.secNum)),this.setTimeToStorage(),this.timer=setInterval((function(){--e.secNum?e.changeEvent(e.changeText.replace(/x|X/,e.secNum)):(clearInterval(e.timer),e.timer=null,e.changeEvent(e.endText),e.secNum=e.seconds,e.$emit("end"),e.canGetCode=!0)}),1e3)},reset:function(){this.canGetCode=!0,clearInterval(this.timer),this.secNum=this.seconds,this.changeEvent(this.endText)},changeEvent:function(e){this.$emit("change",e)},setTimeToStorage:function(){if(this.keepRunning&&this.timer&&this.secNum>0&&this.secNum<=this.seconds){var e=Math.floor(+new Date/1e3);uni.setStorage({key:this.uniqueKey+"_$uCountDownTimestamp",data:e+Number(this.secNum)})}}},beforeDestroy:function(){this.setTimeToStorage(),clearTimeout(this.timer),this.timer=null}};t.default=n},e9f8:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return n}));var n={uIcon:i("c688").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"u-image",style:[e.wrapStyle,e.backgroundStyle],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick.apply(void 0,arguments)}}},[e.isError?e._e():i("v-uni-image",{staticClass:"u-image__image",style:{borderRadius:"circle"==e.shape?"50%":e.$u.addUnit(e.borderRadius)},attrs:{src:e.src,mode:e.mode,"lazy-load":e.lazyLoad},on:{error:function(t){arguments[0]=t=e.$handleEvent(t),e.onErrorHandler.apply(void 0,arguments)},load:function(t){arguments[0]=t=e.$handleEvent(t),e.onLoadHandler.apply(void 0,arguments)}}}),e.showLoading&&e.loading?i("v-uni-view",{staticClass:"u-image__loading",style:{borderRadius:"circle"==e.shape?"50%":e.$u.addUnit(e.borderRadius)}},[e.$slots.loading?e._t("loading"):i("u-icon",{attrs:{name:e.loadingIcon}})],2):e._e(),e.showError&&e.isError&&!e.loading?i("v-uni-view",{staticClass:"u-image__error",style:{borderRadius:"circle"==e.shape?"50%":e.$u.addUnit(e.borderRadius)}},[e.$slots.error?e._t("error"):i("u-icon",{attrs:{name:e.errorIcon}})],2):e._e()],1)},r=[]},ebfa:function(e,t,i){"use strict";i.r(t);var n=i("3e0b"),a=i("5a2e");for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("7a2d");var o,s=i("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"7412e1a8",null,!1,n["a"],o);t["default"]=u.exports},f593:function(e,t,i){"use strict";i.r(t);var n=i("1b13"),a=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},fd2b:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".u-form-item[data-v-3bad0f47]{line-height:%?30?%}",""]),e.exports=t}}]);